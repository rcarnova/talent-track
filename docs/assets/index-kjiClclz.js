var ac=t=>{throw TypeError(t)};var ra=(t,e,n)=>e.has(t)||ac("Cannot "+n);var S=(t,e,n)=>(ra(t,e,"read from private field"),n?n.call(t):e.get(t)),$=(t,e,n)=>e.has(t)?ac("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),P=(t,e,n,r)=>(ra(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),H=(t,e,n)=>(ra(t,e,"access private method"),n);var ws=(t,e,n,r)=>({set _(i){P(t,e,i,n)},get _(){return S(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var uh={exports:{}},Po={},ch={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=Symbol.for("react.element"),Yp=Symbol.for("react.portal"),Xp=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),tg=Symbol.for("react.provider"),ng=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),sg=Symbol.for("react.memo"),og=Symbol.for("react.lazy"),lc=Symbol.iterator;function ag(t){return t===null||typeof t!="object"?null:(t=lc&&t[lc]||t["@@iterator"],typeof t=="function"?t:null)}var dh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hh=Object.assign,fh={};function ri(t,e,n){this.props=t,this.context=e,this.refs=fh,this.updater=n||dh}ri.prototype.isReactComponent={};ri.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ri.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ph(){}ph.prototype=ri.prototype;function tu(t,e,n){this.props=t,this.context=e,this.refs=fh,this.updater=n||dh}var nu=tu.prototype=new ph;nu.constructor=tu;hh(nu,ri.prototype);nu.isPureReactComponent=!0;var uc=Array.isArray,gh=Object.prototype.hasOwnProperty,ru={current:null},mh={key:!0,ref:!0,__self:!0,__source:!0};function yh(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gh.call(e,r)&&!mh.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ds,type:t,key:s,ref:o,props:i,_owner:ru.current}}function lg(t,e){return{$$typeof:ds,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ds}function ug(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cc=/\/+/g;function ia(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ug(""+t.key):e.toString(36)}function qs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ds:case Yp:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ia(o,0):r,uc(i)?(n="",t!=null&&(n=t.replace(cc,"$&/")+"/"),qs(i,e,n,"",function(u){return u})):i!=null&&(iu(i)&&(i=lg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",uc(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ia(s,a);o+=qs(s,e,n,l,i)}else if(l=ag(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ia(s,a++),o+=qs(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _s(t,e,n){if(t==null)return t;var r=[],i=0;return qs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function cg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ze={current:null},Vs={transition:null},dg={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Vs,ReactCurrentOwner:ru};function vh(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:_s,forEach:function(t,e,n){_s(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _s(t,function(){e++}),e},toArray:function(t){return _s(t,function(e){return e})||[]},only:function(t){if(!iu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=ri;M.Fragment=Xp;M.Profiler=eg;M.PureComponent=tu;M.StrictMode=Zp;M.Suspense=ig;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dg;M.act=vh;M.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hh({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ru.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gh.call(e,l)&&!mh.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ds,type:t.type,key:i,ref:s,props:r,_owner:o}};M.createContext=function(t){return t={$$typeof:ng,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tg,_context:t},t.Consumer=t};M.createElement=yh;M.createFactory=function(t){var e=yh.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:rg,render:t}};M.isValidElement=iu;M.lazy=function(t){return{$$typeof:og,_payload:{_status:-1,_result:t},_init:cg}};M.memo=function(t,e){return{$$typeof:sg,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=Vs.transition;Vs.transition={};try{t()}finally{Vs.transition=e}};M.unstable_act=vh;M.useCallback=function(t,e){return ze.current.useCallback(t,e)};M.useContext=function(t){return ze.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return ze.current.useDeferredValue(t)};M.useEffect=function(t,e){return ze.current.useEffect(t,e)};M.useId=function(){return ze.current.useId()};M.useImperativeHandle=function(t,e,n){return ze.current.useImperativeHandle(t,e,n)};M.useInsertionEffect=function(t,e){return ze.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return ze.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return ze.current.useMemo(t,e)};M.useReducer=function(t,e,n){return ze.current.useReducer(t,e,n)};M.useRef=function(t){return ze.current.useRef(t)};M.useState=function(t){return ze.current.useState(t)};M.useSyncExternalStore=function(t,e,n){return ze.current.useSyncExternalStore(t,e,n)};M.useTransition=function(){return ze.current.useTransition()};M.version="18.3.1";ch.exports=M;var W=ch.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=W,fg=Symbol.for("react.element"),pg=Symbol.for("react.fragment"),gg=Object.prototype.hasOwnProperty,mg=hg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yg={key:!0,ref:!0,__self:!0,__source:!0};function wh(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gg.call(e,r)&&!yg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:fg,type:t,key:s,ref:o,props:i,_owner:mg.current}}Po.Fragment=pg;Po.jsx=wh;Po.jsxs=wh;uh.exports=Po;var f=uh.exports,_h={exports:{}},Ze={},Sh={exports:{}},xh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,U){var F=O.length;O.push(U);e:for(;0<F;){var Z=F-1>>>1,he=O[Z];if(0<i(he,U))O[Z]=U,O[F]=he,F=Z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],F=O.pop();if(F!==U){O[0]=F;e:for(var Z=0,he=O.length,Rn=he>>>1;Z<Rn;){var se=2*(Z+1)-1,Se=O[se],nt=se+1,Qt=O[nt];if(0>i(Se,F))nt<he&&0>i(Qt,Se)?(O[Z]=Qt,O[nt]=F,Z=nt):(O[Z]=Se,O[se]=F,Z=se);else if(nt<he&&0>i(Qt,F))O[Z]=Qt,O[nt]=F,Z=nt;else break e}}return U}function i(O,U){var F=O.sortIndex-U.sortIndex;return F!==0?F:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,g=!1,m=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=O)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function k(O){if(_=!1,v(O),!m)if(n(l)!==null)m=!0,ai(E);else{var U=n(u);U!==null&&vs(k,U.startTime-O)}}function E(O,U){m=!1,_&&(_=!1,w(R),R=-1),g=!0;var F=h;try{for(v(U),d=n(l);d!==null&&(!(d.expirationTime>U)||O&&!de());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,h=d.priorityLevel;var he=Z(d.expirationTime<=U);U=t.unstable_now(),typeof he=="function"?d.callback=he:d===n(l)&&r(l),v(U)}else r(l);d=n(l)}if(d!==null)var Rn=!0;else{var se=n(u);se!==null&&vs(k,se.startTime-U),Rn=!1}return Rn}finally{d=null,h=F,g=!1}}var b=!1,T=null,R=-1,L=5,N=-1;function de(){return!(t.unstable_now()-N<L)}function Ue(){if(T!==null){var O=t.unstable_now();N=O;var U=!0;try{U=T(!0,O)}finally{U?tt():(b=!1,T=null)}}else b=!1}var tt;if(typeof p=="function")tt=function(){p(Ue)};else if(typeof MessageChannel<"u"){var ea=new MessageChannel,ta=ea.port2;ea.port1.onmessage=Ue,tt=function(){ta.postMessage(null)}}else tt=function(){x(Ue,0)};function ai(O){T=O,b||(b=!0,tt())}function vs(O,U){R=x(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,ai(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var F=h;h=U;try{return O()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=h;h=O;try{return U()}finally{h=F}},t.unstable_scheduleCallback=function(O,U,F){var Z=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Z+F:Z):F=Z,O){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=F+he,O={id:c++,callback:U,priorityLevel:O,startTime:F,expirationTime:he,sortIndex:-1},F>Z?(O.sortIndex=F,e(u,O),n(l)===null&&O===n(u)&&(_?(w(R),R=-1):_=!0,vs(k,F-Z))):(O.sortIndex=he,e(l,O),m||g||(m=!0,ai(E))),O},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(O){var U=h;return function(){var F=h;h=U;try{return O.apply(this,arguments)}finally{h=F}}}})(xh);Sh.exports=xh;var vg=Sh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=W,Xe=vg;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kh=new Set,Li={};function sr(t,e){Jr(t,e),Jr(t+"Capture",e)}function Jr(t,e){for(Li[t]=e,t=0;t<e.length;t++)kh.add(e[t])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ua=Object.prototype.hasOwnProperty,_g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dc={},hc={};function Sg(t){return Ua.call(hc,t)?!0:Ua.call(dc,t)?!1:_g.test(t)?hc[t]=!0:(dc[t]=!0,!1)}function xg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kg(t,e,n,r){if(e===null||typeof e>"u"||xg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $e(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Te[t]=new $e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Te[e]=new $e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Te[t]=new $e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Te[t]=new $e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Te[t]=new $e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Te[t]=new $e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Te[t]=new $e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Te[t]=new $e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Te[t]=new $e(t,5,!1,t.toLowerCase(),null,!1,!1)});var su=/[\-:]([a-z])/g;function ou(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(su,ou);Te[e]=new $e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(su,ou);Te[e]=new $e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(su,ou);Te[e]=new $e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Te[t]=new $e(t,1,!1,t.toLowerCase(),null,!1,!1)});Te.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Te[t]=new $e(t,1,!1,t.toLowerCase(),null,!0,!0)});function au(t,e,n,r){var i=Te.hasOwnProperty(e)?Te[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kg(e,n,i,r)&&(n=null),r||i===null?Sg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vt=wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),vr=Symbol.for("react.portal"),wr=Symbol.for("react.fragment"),lu=Symbol.for("react.strict_mode"),Fa=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),Eh=Symbol.for("react.context"),uu=Symbol.for("react.forward_ref"),Ma=Symbol.for("react.suspense"),Ba=Symbol.for("react.suspense_list"),cu=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Ch=Symbol.for("react.offscreen"),fc=Symbol.iterator;function ui(t){return t===null||typeof t!="object"?null:(t=fc&&t[fc]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,sa;function vi(t){if(sa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sa=e&&e[1]||""}return`
`+sa+t}var oa=!1;function aa(t,e){if(!t||oa)return"";oa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{oa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vi(t):""}function bg(t){switch(t.tag){case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 2:case 15:return t=aa(t.type,!1),t;case 11:return t=aa(t.type.render,!1),t;case 1:return t=aa(t.type,!0),t;default:return""}}function Wa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wr:return"Fragment";case vr:return"Portal";case Fa:return"Profiler";case lu:return"StrictMode";case Ma:return"Suspense";case Ba:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Eh:return(t.displayName||"Context")+".Consumer";case bh:return(t._context.displayName||"Context")+".Provider";case uu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cu:return e=t.displayName||null,e!==null?e:Wa(t.type)||"Memo";case Yt:e=t._payload,t=t._init;try{return Wa(t(e))}catch{}}return null}function Eg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wa(e);case 8:return e===lu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Th(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Cg(t){var e=Th(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xs(t){t._valueTracker||(t._valueTracker=Cg(t))}function Rh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Th(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ro(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ha(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jh(t,e){e=e.checked,e!=null&&au(t,"checked",e,!1)}function qa(t,e){jh(t,e);var n=kn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Va(t,e.type,n):e.hasOwnProperty("defaultValue")&&Va(t,e.type,kn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Va(t,e,n){(e!=="number"||ro(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wi=Array.isArray;function Ar(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ka(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(wi(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kn(n)}}function Oh(t,e){var n=kn(e.value),r=kn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ah(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ah(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ks,Ph=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ks.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Di(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tg=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(t){Tg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bi[e]=bi[t]})});function Ih(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bi.hasOwnProperty(t)&&bi[t]?(""+e).trim():e+"px"}function Nh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ih(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Rg=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ga(t,e){if(e){if(Rg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Ja(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ya=null;function du(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xa=null,Pr=null,Ir=null;function vc(t){if(t=ps(t)){if(typeof Xa!="function")throw Error(C(280));var e=t.stateNode;e&&(e=zo(e),Xa(t.stateNode,t.type,e))}}function Lh(t){Pr?Ir?Ir.push(t):Ir=[t]:Pr=t}function Dh(){if(Pr){var t=Pr,e=Ir;if(Ir=Pr=null,vc(t),e)for(t=0;t<e.length;t++)vc(e[t])}}function zh(t,e){return t(e)}function $h(){}var la=!1;function Uh(t,e,n){if(la)return t(e,n);la=!0;try{return zh(t,e,n)}finally{la=!1,(Pr!==null||Ir!==null)&&($h(),Dh())}}function zi(t,e){var n=t.stateNode;if(n===null)return null;var r=zo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var Za=!1;if(Bt)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Za=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Za=!1}function jg(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ei=!1,io=null,so=!1,el=null,Og={onError:function(t){Ei=!0,io=t}};function Ag(t,e,n,r,i,s,o,a,l){Ei=!1,io=null,jg.apply(Og,arguments)}function Pg(t,e,n,r,i,s,o,a,l){if(Ag.apply(this,arguments),Ei){if(Ei){var u=io;Ei=!1,io=null}else throw Error(C(198));so||(so=!0,el=u)}}function or(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wc(t){if(or(t)!==t)throw Error(C(188))}function Ig(t){var e=t.alternate;if(!e){if(e=or(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wc(i),t;if(s===r)return wc(i),e;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function Mh(t){return t=Ig(t),t!==null?Bh(t):null}function Bh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bh(t);if(e!==null)return e;t=t.sibling}return null}var Wh=Xe.unstable_scheduleCallback,_c=Xe.unstable_cancelCallback,Ng=Xe.unstable_shouldYield,Lg=Xe.unstable_requestPaint,ce=Xe.unstable_now,Dg=Xe.unstable_getCurrentPriorityLevel,hu=Xe.unstable_ImmediatePriority,Hh=Xe.unstable_UserBlockingPriority,oo=Xe.unstable_NormalPriority,zg=Xe.unstable_LowPriority,qh=Xe.unstable_IdlePriority,Io=null,Pt=null;function $g(t){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Io,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Mg,Ug=Math.log,Fg=Math.LN2;function Mg(t){return t>>>=0,t===0?32:31-(Ug(t)/Fg|0)|0}var bs=64,Es=4194304;function _i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ao(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=_i(a):(s&=o,s!==0&&(r=_i(s)))}else o=n&~i,o!==0?r=_i(o):s!==0&&(r=_i(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kt(e),i=1<<n,r|=t[n],e&=~i;return r}function Bg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wg(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Bg(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function tl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vh(){var t=bs;return bs<<=1,!(bs&4194240)&&(bs=64),t}function ua(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function Hg(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function fu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Q=0;function Kh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qh,pu,Gh,Jh,Yh,nl=!1,Cs=[],pn=null,gn=null,mn=null,$i=new Map,Ui=new Map,en=[],qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(t,e){switch(t){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":$i.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(e.pointerId)}}function di(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ps(e),e!==null&&pu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Vg(t,e,n,r,i){switch(e){case"focusin":return pn=di(pn,t,e,n,r,i),!0;case"dragenter":return gn=di(gn,t,e,n,r,i),!0;case"mouseover":return mn=di(mn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $i.set(s,di($i.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ui.set(s,di(Ui.get(s)||null,t,e,n,r,i)),!0}return!1}function Xh(t){var e=Dn(t.target);if(e!==null){var n=or(e);if(n!==null){if(e=n.tag,e===13){if(e=Fh(n),e!==null){t.blockedOn=e,Yh(t.priority,function(){Gh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ks(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ya=r,n.target.dispatchEvent(r),Ya=null}else return e=ps(n),e!==null&&pu(e),t.blockedOn=n,!1;e.shift()}return!0}function xc(t,e,n){Ks(t)&&n.delete(e)}function Kg(){nl=!1,pn!==null&&Ks(pn)&&(pn=null),gn!==null&&Ks(gn)&&(gn=null),mn!==null&&Ks(mn)&&(mn=null),$i.forEach(xc),Ui.forEach(xc)}function hi(t,e){t.blockedOn===e&&(t.blockedOn=null,nl||(nl=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,Kg)))}function Fi(t){function e(i){return hi(i,t)}if(0<Cs.length){hi(Cs[0],t);for(var n=1;n<Cs.length;n++){var r=Cs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pn!==null&&hi(pn,t),gn!==null&&hi(gn,t),mn!==null&&hi(mn,t),$i.forEach(e),Ui.forEach(e),n=0;n<en.length;n++)r=en[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)Xh(n),n.blockedOn===null&&en.shift()}var Nr=Vt.ReactCurrentBatchConfig,lo=!0;function Qg(t,e,n,r){var i=Q,s=Nr.transition;Nr.transition=null;try{Q=1,gu(t,e,n,r)}finally{Q=i,Nr.transition=s}}function Gg(t,e,n,r){var i=Q,s=Nr.transition;Nr.transition=null;try{Q=4,gu(t,e,n,r)}finally{Q=i,Nr.transition=s}}function gu(t,e,n,r){if(lo){var i=rl(t,e,n,r);if(i===null)wa(t,e,r,uo,n),Sc(t,r);else if(Vg(i,t,e,n,r))r.stopPropagation();else if(Sc(t,r),e&4&&-1<qg.indexOf(t)){for(;i!==null;){var s=ps(i);if(s!==null&&Qh(s),s=rl(t,e,n,r),s===null&&wa(t,e,r,uo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wa(t,e,r,null,n)}}var uo=null;function rl(t,e,n,r){if(uo=null,t=du(r),t=Dn(t),t!==null)if(e=or(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uo=t,null}function Zh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dg()){case hu:return 1;case Hh:return 4;case oo:case zg:return 16;case qh:return 536870912;default:return 16}default:return 16}}var hn=null,mu=null,Qs=null;function ef(){if(Qs)return Qs;var t,e=mu,n=e.length,r,i="value"in hn?hn.value:hn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qs=i.slice(t,1<r?1-r:void 0)}function Gs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function kc(){return!1}function et(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ts:kc,this.isPropagationStopped=kc,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),e}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yu=et(ii),fs=ie({},ii,{view:0,detail:0}),Jg=et(fs),ca,da,fi,No=ie({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fi&&(fi&&t.type==="mousemove"?(ca=t.screenX-fi.screenX,da=t.screenY-fi.screenY):da=ca=0,fi=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:da}}),bc=et(No),Yg=ie({},No,{dataTransfer:0}),Xg=et(Yg),Zg=ie({},fs,{relatedTarget:0}),ha=et(Zg),em=ie({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),tm=et(em),nm=ie({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rm=et(nm),im=ie({},ii,{data:0}),Ec=et(im),sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},om={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},am={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=am[t])?!!e[t]:!1}function vu(){return lm}var um=ie({},fs,{key:function(t){if(t.key){var e=sm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?om[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cm=et(um),dm=ie({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=et(dm),hm=ie({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),fm=et(hm),pm=ie({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=et(pm),mm=ie({},No,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ym=et(mm),vm=[9,13,27,32],wu=Bt&&"CompositionEvent"in window,Ci=null;Bt&&"documentMode"in document&&(Ci=document.documentMode);var wm=Bt&&"TextEvent"in window&&!Ci,tf=Bt&&(!wu||Ci&&8<Ci&&11>=Ci),Tc=" ",Rc=!1;function nf(t,e){switch(t){case"keyup":return vm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _r=!1;function _m(t,e){switch(t){case"compositionend":return rf(e);case"keypress":return e.which!==32?null:(Rc=!0,Tc);case"textInput":return t=e.data,t===Tc&&Rc?null:t;default:return null}}function Sm(t,e){if(_r)return t==="compositionend"||!wu&&nf(t,e)?(t=ef(),Qs=mu=hn=null,_r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tf&&e.locale!=="ko"?null:e.data;default:return null}}var xm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xm[t.type]:e==="textarea"}function sf(t,e,n,r){Lh(r),e=co(e,"onChange"),0<e.length&&(n=new yu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ti=null,Mi=null;function km(t){mf(t,0)}function Lo(t){var e=kr(t);if(Rh(e))return t}function bm(t,e){if(t==="change")return e}var of=!1;if(Bt){var fa;if(Bt){var pa="oninput"in document;if(!pa){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),pa=typeof Oc.oninput=="function"}fa=pa}else fa=!1;of=fa&&(!document.documentMode||9<document.documentMode)}function Ac(){Ti&&(Ti.detachEvent("onpropertychange",af),Mi=Ti=null)}function af(t){if(t.propertyName==="value"&&Lo(Mi)){var e=[];sf(e,Mi,t,du(t)),Uh(km,e)}}function Em(t,e,n){t==="focusin"?(Ac(),Ti=e,Mi=n,Ti.attachEvent("onpropertychange",af)):t==="focusout"&&Ac()}function Cm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lo(Mi)}function Tm(t,e){if(t==="click")return Lo(e)}function Rm(t,e){if(t==="input"||t==="change")return Lo(e)}function jm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Et=typeof Object.is=="function"?Object.is:jm;function Bi(t,e){if(Et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ua.call(e,i)||!Et(t[i],e[i]))return!1}return!0}function Pc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ic(t,e){var n=Pc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pc(n)}}function lf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uf(){for(var t=window,e=ro();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ro(t.document)}return e}function _u(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Om(t){var e=uf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lf(n.ownerDocument.documentElement,n)){if(r!==null&&_u(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ic(n,s);var o=Ic(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Am=Bt&&"documentMode"in document&&11>=document.documentMode,Sr=null,il=null,Ri=null,sl=!1;function Nc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sl||Sr==null||Sr!==ro(r)||(r=Sr,"selectionStart"in r&&_u(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ri&&Bi(Ri,r)||(Ri=r,r=co(il,"onSelect"),0<r.length&&(e=new yu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sr)))}function Rs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},ga={},cf={};Bt&&(cf=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function Do(t){if(ga[t])return ga[t];if(!xr[t])return t;var e=xr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cf)return ga[t]=e[n];return t}var df=Do("animationend"),hf=Do("animationiteration"),ff=Do("animationstart"),pf=Do("transitionend"),gf=new Map,Lc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(t,e){gf.set(t,e),sr(e,[t])}for(var ma=0;ma<Lc.length;ma++){var ya=Lc[ma],Pm=ya.toLowerCase(),Im=ya[0].toUpperCase()+ya.slice(1);En(Pm,"on"+Im)}En(df,"onAnimationEnd");En(hf,"onAnimationIteration");En(ff,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(pf,"onTransitionEnd");Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Si));function Dc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pg(r,e,void 0,t),t.currentTarget=null}function mf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Dc(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Dc(i,a,u),s=l}}}if(so)throw t=el,so=!1,el=null,t}function Y(t,e){var n=e[cl];n===void 0&&(n=e[cl]=new Set);var r=t+"__bubble";n.has(r)||(yf(e,t,2,!1),n.add(r))}function va(t,e,n){var r=0;e&&(r|=4),yf(n,t,r,e)}var js="_reactListening"+Math.random().toString(36).slice(2);function Wi(t){if(!t[js]){t[js]=!0,kh.forEach(function(n){n!=="selectionchange"&&(Nm.has(n)||va(n,!1,t),va(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[js]||(e[js]=!0,va("selectionchange",!1,e))}}function yf(t,e,n,r){switch(Zh(e)){case 1:var i=Qg;break;case 4:i=Gg;break;default:i=gu}n=i.bind(null,e,n,t),i=void 0,!Za||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wa(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Dn(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Uh(function(){var u=s,c=du(n),d=[];e:{var h=gf.get(t);if(h!==void 0){var g=yu,m=t;switch(t){case"keypress":if(Gs(n)===0)break e;case"keydown":case"keyup":g=cm;break;case"focusin":m="focus",g=ha;break;case"focusout":m="blur",g=ha;break;case"beforeblur":case"afterblur":g=ha;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Xg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=fm;break;case df:case hf:case ff:g=tm;break;case pf:g=gm;break;case"scroll":g=Jg;break;case"wheel":g=ym;break;case"copy":case"cut":case"paste":g=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cc}var _=(e&4)!==0,x=!_&&t==="scroll",w=_?h!==null?h+"Capture":null:h;_=[];for(var p=u,v;p!==null;){v=p;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,w!==null&&(k=zi(p,w),k!=null&&_.push(Hi(p,k,v)))),x)break;p=p.return}0<_.length&&(h=new g(h,m,null,n,c),d.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Ya&&(m=n.relatedTarget||n.fromElement)&&(Dn(m)||m[Wt]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=u,m=m?Dn(m):null,m!==null&&(x=or(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(_=bc,k="onMouseLeave",w="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=Cc,k="onPointerLeave",w="onPointerEnter",p="pointer"),x=g==null?h:kr(g),v=m==null?h:kr(m),h=new _(k,p+"leave",g,n,c),h.target=x,h.relatedTarget=v,k=null,Dn(c)===u&&(_=new _(w,p+"enter",m,n,c),_.target=v,_.relatedTarget=x,k=_),x=k,g&&m)t:{for(_=g,w=m,p=0,v=_;v;v=lr(v))p++;for(v=0,k=w;k;k=lr(k))v++;for(;0<p-v;)_=lr(_),p--;for(;0<v-p;)w=lr(w),v--;for(;p--;){if(_===w||w!==null&&_===w.alternate)break t;_=lr(_),w=lr(w)}_=null}else _=null;g!==null&&zc(d,h,g,_,!1),m!==null&&x!==null&&zc(d,x,m,_,!0)}}e:{if(h=u?kr(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var E=bm;else if(jc(h))if(of)E=Rm;else{E=Cm;var b=Em}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Tm);if(E&&(E=E(t,u))){sf(d,E,n,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&Va(h,"number",h.value)}switch(b=u?kr(u):window,t){case"focusin":(jc(b)||b.contentEditable==="true")&&(Sr=b,il=u,Ri=null);break;case"focusout":Ri=il=Sr=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,Nc(d,n,c);break;case"selectionchange":if(Am)break;case"keydown":case"keyup":Nc(d,n,c)}var T;if(wu)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else _r?nf(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(tf&&n.locale!=="ko"&&(_r||R!=="onCompositionStart"?R==="onCompositionEnd"&&_r&&(T=ef()):(hn=c,mu="value"in hn?hn.value:hn.textContent,_r=!0)),b=co(u,R),0<b.length&&(R=new Ec(R,t,null,n,c),d.push({event:R,listeners:b}),T?R.data=T:(T=rf(n),T!==null&&(R.data=T)))),(T=wm?_m(t,n):Sm(t,n))&&(u=co(u,"onBeforeInput"),0<u.length&&(c=new Ec("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}mf(d,e)})}function Hi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function co(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zi(t,n),s!=null&&r.unshift(Hi(t,s,i)),s=zi(t,e),s!=null&&r.push(Hi(t,s,i))),t=t.return}return r}function lr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=zi(n,s),l!=null&&o.unshift(Hi(n,l,a))):i||(l=zi(n,s),l!=null&&o.push(Hi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Lm=/\r\n?/g,Dm=/\u0000|\uFFFD/g;function $c(t){return(typeof t=="string"?t:""+t).replace(Lm,`
`).replace(Dm,"")}function Os(t,e,n){if(e=$c(e),$c(t)!==e&&n)throw Error(C(425))}function ho(){}var ol=null,al=null;function ll(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,zm=typeof clearTimeout=="function"?clearTimeout:void 0,Uc=typeof Promise=="function"?Promise:void 0,$m=typeof queueMicrotask=="function"?queueMicrotask:typeof Uc<"u"?function(t){return Uc.resolve(null).then(t).catch(Um)}:ul;function Um(t){setTimeout(function(){throw t})}function _a(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fi(e)}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var si=Math.random().toString(36).slice(2),At="__reactFiber$"+si,qi="__reactProps$"+si,Wt="__reactContainer$"+si,cl="__reactEvents$"+si,Fm="__reactListeners$"+si,Mm="__reactHandles$"+si;function Dn(t){var e=t[At];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wt]||n[At]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fc(t);t!==null;){if(n=t[At])return n;t=Fc(t)}return e}t=n,n=t.parentNode}return null}function ps(t){return t=t[At]||t[Wt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function zo(t){return t[qi]||null}var dl=[],br=-1;function Cn(t){return{current:t}}function X(t){0>br||(t.current=dl[br],dl[br]=null,br--)}function J(t,e){br++,dl[br]=t.current,t.current=e}var bn={},Pe=Cn(bn),He=Cn(!1),Yn=bn;function Yr(t,e){var n=t.type.contextTypes;if(!n)return bn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qe(t){return t=t.childContextTypes,t!=null}function fo(){X(He),X(Pe)}function Mc(t,e,n){if(Pe.current!==bn)throw Error(C(168));J(Pe,e),J(He,n)}function vf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(C(108,Eg(t)||"Unknown",i));return ie({},n,r)}function po(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bn,Yn=Pe.current,J(Pe,t),J(He,He.current),!0}function Bc(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=vf(t,e,Yn),r.__reactInternalMemoizedMergedChildContext=t,X(He),X(Pe),J(Pe,t)):X(He),J(He,n)}var zt=null,$o=!1,Sa=!1;function wf(t){zt===null?zt=[t]:zt.push(t)}function Bm(t){$o=!0,wf(t)}function Tn(){if(!Sa&&zt!==null){Sa=!0;var t=0,e=Q;try{var n=zt;for(Q=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zt=null,$o=!1}catch(i){throw zt!==null&&(zt=zt.slice(t+1)),Wh(hu,Tn),i}finally{Q=e,Sa=!1}}return null}var Er=[],Cr=0,go=null,mo=0,st=[],ot=0,Xn=null,Ut=1,Ft="";function An(t,e){Er[Cr++]=mo,Er[Cr++]=go,go=t,mo=e}function _f(t,e,n){st[ot++]=Ut,st[ot++]=Ft,st[ot++]=Xn,Xn=t;var r=Ut;t=Ft;var i=32-kt(r)-1;r&=~(1<<i),n+=1;var s=32-kt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ut=1<<32-kt(e)+i|n<<i|r,Ft=s+t}else Ut=1<<s|n<<i|r,Ft=t}function Su(t){t.return!==null&&(An(t,1),_f(t,1,0))}function xu(t){for(;t===go;)go=Er[--Cr],Er[Cr]=null,mo=Er[--Cr],Er[Cr]=null;for(;t===Xn;)Xn=st[--ot],st[ot]=null,Ft=st[--ot],st[ot]=null,Ut=st[--ot],st[ot]=null}var Ye=null,Je=null,ee=!1,St=null;function Sf(t,e){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ye=t,Je=yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ye=t,Je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xn!==null?{id:Ut,overflow:Ft}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ye=t,Je=null,!0):!1;default:return!1}}function hl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fl(t){if(ee){var e=Je;if(e){var n=e;if(!Wc(t,e)){if(hl(t))throw Error(C(418));e=yn(n.nextSibling);var r=Ye;e&&Wc(t,e)?Sf(r,n):(t.flags=t.flags&-4097|2,ee=!1,Ye=t)}}else{if(hl(t))throw Error(C(418));t.flags=t.flags&-4097|2,ee=!1,Ye=t}}}function Hc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ye=t}function As(t){if(t!==Ye)return!1;if(!ee)return Hc(t),ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ll(t.type,t.memoizedProps)),e&&(e=Je)){if(hl(t))throw xf(),Error(C(418));for(;e;)Sf(t,e),e=yn(e.nextSibling)}if(Hc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Je=yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Je=null}}else Je=Ye?yn(t.stateNode.nextSibling):null;return!0}function xf(){for(var t=Je;t;)t=yn(t.nextSibling)}function Xr(){Je=Ye=null,ee=!1}function ku(t){St===null?St=[t]:St.push(t)}var Wm=Vt.ReactCurrentBatchConfig;function pi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function Ps(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qc(t){var e=t._init;return e(t._payload)}function kf(t){function e(w,p){if(t){var v=w.deletions;v===null?(w.deletions=[p],w.flags|=16):v.push(p)}}function n(w,p){if(!t)return null;for(;p!==null;)e(w,p),p=p.sibling;return null}function r(w,p){for(w=new Map;p!==null;)p.key!==null?w.set(p.key,p):w.set(p.index,p),p=p.sibling;return w}function i(w,p){return w=Sn(w,p),w.index=0,w.sibling=null,w}function s(w,p,v){return w.index=v,t?(v=w.alternate,v!==null?(v=v.index,v<p?(w.flags|=2,p):v):(w.flags|=2,p)):(w.flags|=1048576,p)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,p,v,k){return p===null||p.tag!==6?(p=Ra(v,w.mode,k),p.return=w,p):(p=i(p,v),p.return=w,p)}function l(w,p,v,k){var E=v.type;return E===wr?c(w,p,v.props.children,k,v.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yt&&qc(E)===p.type)?(k=i(p,v.props),k.ref=pi(w,p,v),k.return=w,k):(k=no(v.type,v.key,v.props,null,w.mode,k),k.ref=pi(w,p,v),k.return=w,k)}function u(w,p,v,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=ja(v,w.mode,k),p.return=w,p):(p=i(p,v.children||[]),p.return=w,p)}function c(w,p,v,k,E){return p===null||p.tag!==7?(p=Jn(v,w.mode,k,E),p.return=w,p):(p=i(p,v),p.return=w,p)}function d(w,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ra(""+p,w.mode,v),p.return=w,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ss:return v=no(p.type,p.key,p.props,null,w.mode,v),v.ref=pi(w,null,p),v.return=w,v;case vr:return p=ja(p,w.mode,v),p.return=w,p;case Yt:var k=p._init;return d(w,k(p._payload),v)}if(wi(p)||ui(p))return p=Jn(p,w.mode,v,null),p.return=w,p;Ps(w,p)}return null}function h(w,p,v,k){var E=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(w,p,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ss:return v.key===E?l(w,p,v,k):null;case vr:return v.key===E?u(w,p,v,k):null;case Yt:return E=v._init,h(w,p,E(v._payload),k)}if(wi(v)||ui(v))return E!==null?null:c(w,p,v,k,null);Ps(w,v)}return null}function g(w,p,v,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return w=w.get(v)||null,a(p,w,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ss:return w=w.get(k.key===null?v:k.key)||null,l(p,w,k,E);case vr:return w=w.get(k.key===null?v:k.key)||null,u(p,w,k,E);case Yt:var b=k._init;return g(w,p,v,b(k._payload),E)}if(wi(k)||ui(k))return w=w.get(v)||null,c(p,w,k,E,null);Ps(p,k)}return null}function m(w,p,v,k){for(var E=null,b=null,T=p,R=p=0,L=null;T!==null&&R<v.length;R++){T.index>R?(L=T,T=null):L=T.sibling;var N=h(w,T,v[R],k);if(N===null){T===null&&(T=L);break}t&&T&&N.alternate===null&&e(w,T),p=s(N,p,R),b===null?E=N:b.sibling=N,b=N,T=L}if(R===v.length)return n(w,T),ee&&An(w,R),E;if(T===null){for(;R<v.length;R++)T=d(w,v[R],k),T!==null&&(p=s(T,p,R),b===null?E=T:b.sibling=T,b=T);return ee&&An(w,R),E}for(T=r(w,T);R<v.length;R++)L=g(T,w,R,v[R],k),L!==null&&(t&&L.alternate!==null&&T.delete(L.key===null?R:L.key),p=s(L,p,R),b===null?E=L:b.sibling=L,b=L);return t&&T.forEach(function(de){return e(w,de)}),ee&&An(w,R),E}function _(w,p,v,k){var E=ui(v);if(typeof E!="function")throw Error(C(150));if(v=E.call(v),v==null)throw Error(C(151));for(var b=E=null,T=p,R=p=0,L=null,N=v.next();T!==null&&!N.done;R++,N=v.next()){T.index>R?(L=T,T=null):L=T.sibling;var de=h(w,T,N.value,k);if(de===null){T===null&&(T=L);break}t&&T&&de.alternate===null&&e(w,T),p=s(de,p,R),b===null?E=de:b.sibling=de,b=de,T=L}if(N.done)return n(w,T),ee&&An(w,R),E;if(T===null){for(;!N.done;R++,N=v.next())N=d(w,N.value,k),N!==null&&(p=s(N,p,R),b===null?E=N:b.sibling=N,b=N);return ee&&An(w,R),E}for(T=r(w,T);!N.done;R++,N=v.next())N=g(T,w,R,N.value,k),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?R:N.key),p=s(N,p,R),b===null?E=N:b.sibling=N,b=N);return t&&T.forEach(function(Ue){return e(w,Ue)}),ee&&An(w,R),E}function x(w,p,v,k){if(typeof v=="object"&&v!==null&&v.type===wr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ss:e:{for(var E=v.key,b=p;b!==null;){if(b.key===E){if(E=v.type,E===wr){if(b.tag===7){n(w,b.sibling),p=i(b,v.props.children),p.return=w,w=p;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yt&&qc(E)===b.type){n(w,b.sibling),p=i(b,v.props),p.ref=pi(w,b,v),p.return=w,w=p;break e}n(w,b);break}else e(w,b);b=b.sibling}v.type===wr?(p=Jn(v.props.children,w.mode,k,v.key),p.return=w,w=p):(k=no(v.type,v.key,v.props,null,w.mode,k),k.ref=pi(w,p,v),k.return=w,w=k)}return o(w);case vr:e:{for(b=v.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(w,p.sibling),p=i(p,v.children||[]),p.return=w,w=p;break e}else{n(w,p);break}else e(w,p);p=p.sibling}p=ja(v,w.mode,k),p.return=w,w=p}return o(w);case Yt:return b=v._init,x(w,p,b(v._payload),k)}if(wi(v))return m(w,p,v,k);if(ui(v))return _(w,p,v,k);Ps(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(w,p.sibling),p=i(p,v),p.return=w,w=p):(n(w,p),p=Ra(v,w.mode,k),p.return=w,w=p),o(w)):n(w,p)}return x}var Zr=kf(!0),bf=kf(!1),yo=Cn(null),vo=null,Tr=null,bu=null;function Eu(){bu=Tr=vo=null}function Cu(t){var e=yo.current;X(yo),t._currentValue=e}function pl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lr(t,e){vo=t,bu=Tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(We=!0),t.firstContext=null)}function ct(t){var e=t._currentValue;if(bu!==t)if(t={context:t,memoizedValue:e,next:null},Tr===null){if(vo===null)throw Error(C(308));Tr=t,vo.dependencies={lanes:0,firstContext:t}}else Tr=Tr.next=t;return e}var zn=null;function Tu(t){zn===null?zn=[t]:zn.push(t)}function Ef(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ht(t,r)}function Ht(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xt=!1;function Ru(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ht(t,n)}return i=r.interleaved,i===null?(e.next=e,Tu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ht(t,n)}function Js(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fu(t,n)}}function Vc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wo(t,e,n,r){var i=t.updateQueue;Xt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(h=e,g=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){d=m.call(g,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,h=typeof m=="function"?m.call(g,d,h):m,h==null)break e;d=ie({},d,h);break e;case 2:Xt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);er|=o,t.lanes=o,t.memoizedState=d}}function Kc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var gs={},It=Cn(gs),Vi=Cn(gs),Ki=Cn(gs);function $n(t){if(t===gs)throw Error(C(174));return t}function ju(t,e){switch(J(Ki,e),J(Vi,t),J(It,gs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qa(e,t)}X(It),J(It,e)}function ei(){X(It),X(Vi),X(Ki)}function Tf(t){$n(Ki.current);var e=$n(It.current),n=Qa(e,t.type);e!==n&&(J(Vi,t),J(It,n))}function Ou(t){Vi.current===t&&(X(It),X(Vi))}var ne=Cn(0);function _o(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xa=[];function Au(){for(var t=0;t<xa.length;t++)xa[t]._workInProgressVersionPrimary=null;xa.length=0}var Ys=Vt.ReactCurrentDispatcher,ka=Vt.ReactCurrentBatchConfig,Zn=0,re=null,ye=null,we=null,So=!1,ji=!1,Qi=0,Hm=0;function Re(){throw Error(C(321))}function Pu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Et(t[n],e[n]))return!1;return!0}function Iu(t,e,n,r,i,s){if(Zn=s,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ys.current=t===null||t.memoizedState===null?Qm:Gm,t=n(r,i),ji){s=0;do{if(ji=!1,Qi=0,25<=s)throw Error(C(301));s+=1,we=ye=null,e.updateQueue=null,Ys.current=Jm,t=n(r,i)}while(ji)}if(Ys.current=xo,e=ye!==null&&ye.next!==null,Zn=0,we=ye=re=null,So=!1,e)throw Error(C(300));return t}function Nu(){var t=Qi!==0;return Qi=0,t}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?re.memoizedState=we=t:we=we.next=t,we}function dt(){if(ye===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=we===null?re.memoizedState:we.next;if(e!==null)we=e,ye=t;else{if(t===null)throw Error(C(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},we===null?re.memoizedState=we=t:we=we.next=t}return we}function Gi(t,e){return typeof e=="function"?e(t):e}function ba(t){var e=dt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Zn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,re.lanes|=c,er|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Et(r,e.memoizedState)||(We=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,re.lanes|=s,er|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ea(t){var e=dt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Et(s,e.memoizedState)||(We=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Rf(){}function jf(t,e){var n=re,r=dt(),i=e(),s=!Et(r.memoizedState,i);if(s&&(r.memoizedState=i,We=!0),r=r.queue,Lu(Pf.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Ji(9,Af.bind(null,n,r,i,e),void 0,null),_e===null)throw Error(C(349));Zn&30||Of(n,e,i)}return i}function Of(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Af(t,e,n,r){e.value=n,e.getSnapshot=r,If(e)&&Nf(t)}function Pf(t,e,n){return n(function(){If(e)&&Nf(t)})}function If(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Et(t,n)}catch{return!0}}function Nf(t){var e=Ht(t,1);e!==null&&bt(e,t,1,-1)}function Qc(t){var e=Tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},e.queue=t,t=t.dispatch=Km.bind(null,re,t),[e.memoizedState,t]}function Ji(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lf(){return dt().memoizedState}function Xs(t,e,n,r){var i=Tt();re.flags|=t,i.memoizedState=Ji(1|e,n,void 0,r===void 0?null:r)}function Uo(t,e,n,r){var i=dt();r=r===void 0?null:r;var s=void 0;if(ye!==null){var o=ye.memoizedState;if(s=o.destroy,r!==null&&Pu(r,o.deps)){i.memoizedState=Ji(e,n,s,r);return}}re.flags|=t,i.memoizedState=Ji(1|e,n,s,r)}function Gc(t,e){return Xs(8390656,8,t,e)}function Lu(t,e){return Uo(2048,8,t,e)}function Df(t,e){return Uo(4,2,t,e)}function zf(t,e){return Uo(4,4,t,e)}function $f(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Uf(t,e,n){return n=n!=null?n.concat([t]):null,Uo(4,4,$f.bind(null,e,t),n)}function Du(){}function Ff(t,e){var n=dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Mf(t,e){var n=dt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Bf(t,e,n){return Zn&21?(Et(n,e)||(n=Vh(),re.lanes|=n,er|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,We=!0),t.memoizedState=n)}function qm(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var r=ka.transition;ka.transition={};try{t(!1),e()}finally{Q=n,ka.transition=r}}function Wf(){return dt().memoizedState}function Vm(t,e,n){var r=_n(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hf(t))qf(e,n);else if(n=Ef(t,e,n,r),n!==null){var i=De();bt(n,t,r,i),Vf(n,e,r)}}function Km(t,e,n){var r=_n(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hf(t))qf(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Et(a,o)){var l=e.interleaved;l===null?(i.next=i,Tu(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ef(t,e,i,r),n!==null&&(i=De(),bt(n,t,r,i),Vf(n,e,r))}}function Hf(t){var e=t.alternate;return t===re||e!==null&&e===re}function qf(t,e){ji=So=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vf(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fu(t,n)}}var xo={readContext:ct,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Qm={readContext:ct,useCallback:function(t,e){return Tt().memoizedState=[t,e===void 0?null:e],t},useContext:ct,useEffect:Gc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xs(4194308,4,$f.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xs(4,2,t,e)},useMemo:function(t,e){var n=Tt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Vm.bind(null,re,t),[r.memoizedState,t]},useRef:function(t){var e=Tt();return t={current:t},e.memoizedState=t},useState:Qc,useDebugValue:Du,useDeferredValue:function(t){return Tt().memoizedState=t},useTransition:function(){var t=Qc(!1),e=t[0];return t=qm.bind(null,t[1]),Tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=re,i=Tt();if(ee){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),_e===null)throw Error(C(349));Zn&30||Of(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Gc(Pf.bind(null,r,s,t),[t]),r.flags|=2048,Ji(9,Af.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Tt(),e=_e.identifierPrefix;if(ee){var n=Ft,r=Ut;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Hm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gm={readContext:ct,useCallback:Ff,useContext:ct,useEffect:Lu,useImperativeHandle:Uf,useInsertionEffect:Df,useLayoutEffect:zf,useMemo:Mf,useReducer:ba,useRef:Lf,useState:function(){return ba(Gi)},useDebugValue:Du,useDeferredValue:function(t){var e=dt();return Bf(e,ye.memoizedState,t)},useTransition:function(){var t=ba(Gi)[0],e=dt().memoizedState;return[t,e]},useMutableSource:Rf,useSyncExternalStore:jf,useId:Wf,unstable_isNewReconciler:!1},Jm={readContext:ct,useCallback:Ff,useContext:ct,useEffect:Lu,useImperativeHandle:Uf,useInsertionEffect:Df,useLayoutEffect:zf,useMemo:Mf,useReducer:Ea,useRef:Lf,useState:function(){return Ea(Gi)},useDebugValue:Du,useDeferredValue:function(t){var e=dt();return ye===null?e.memoizedState=t:Bf(e,ye.memoizedState,t)},useTransition:function(){var t=Ea(Gi)[0],e=dt().memoizedState;return[t,e]},useMutableSource:Rf,useSyncExternalStore:jf,useId:Wf,unstable_isNewReconciler:!1};function gt(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fo={isMounted:function(t){return(t=t._reactInternals)?or(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=De(),i=_n(t),s=Mt(r,i);s.payload=e,n!=null&&(s.callback=n),e=vn(t,s,i),e!==null&&(bt(e,t,i,r),Js(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=De(),i=_n(t),s=Mt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=vn(t,s,i),e!==null&&(bt(e,t,i,r),Js(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=De(),r=_n(t),i=Mt(n,r);i.tag=2,e!=null&&(i.callback=e),e=vn(t,i,r),e!==null&&(bt(e,t,r,n),Js(e,t,r))}};function Jc(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bi(n,r)||!Bi(i,s):!0}function Kf(t,e,n){var r=!1,i=bn,s=e.contextType;return typeof s=="object"&&s!==null?s=ct(s):(i=qe(e)?Yn:Pe.current,r=e.contextTypes,s=(r=r!=null)?Yr(t,i):bn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Yc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fo.enqueueReplaceState(e,e.state,null)}function ml(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ru(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ct(s):(s=qe(e)?Yn:Pe.current,i.context=Yr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(gl(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fo.enqueueReplaceState(i,i.state,null),wo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ti(t,e){try{var n="",r=e;do n+=bg(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ca(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ym=typeof WeakMap=="function"?WeakMap:Map;function Qf(t,e,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bo||(bo=!0,Tl=r),yl(t,e)},n}function Gf(t,e,n){n=Mt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yl(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yl(t,e),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ym;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=dy.bind(null,t,e,n),e.then(t,t))}function Zc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ed(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mt(-1,1),e.tag=2,vn(n,e,1))),n.lanes|=1),t)}var Xm=Vt.ReactCurrentOwner,We=!1;function Le(t,e,n,r){e.child=t===null?bf(e,null,n,r):Zr(e,t.child,n,r)}function td(t,e,n,r,i){n=n.render;var s=e.ref;return Lr(e,i),r=Iu(t,e,n,r,s,i),n=Nu(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(ee&&n&&Su(e),e.flags|=1,Le(t,e,r,i),e.child)}function nd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Hu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Jf(t,e,s,r,i)):(t=no(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bi,n(o,r)&&t.ref===e.ref)return qt(t,e,i)}return e.flags|=1,t=Sn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Jf(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Bi(s,r)&&t.ref===e.ref)if(We=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(We=!0);else return e.lanes=t.lanes,qt(t,e,i)}return vl(t,e,n,r,i)}function Yf(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(jr,Qe),Qe|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(jr,Qe),Qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,J(jr,Qe),Qe|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,J(jr,Qe),Qe|=r;return Le(t,e,i,n),e.child}function Xf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vl(t,e,n,r,i){var s=qe(n)?Yn:Pe.current;return s=Yr(e,s),Lr(e,i),n=Iu(t,e,n,r,s,i),r=Nu(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qt(t,e,i)):(ee&&r&&Su(e),e.flags|=1,Le(t,e,n,i),e.child)}function rd(t,e,n,r,i){if(qe(n)){var s=!0;po(e)}else s=!1;if(Lr(e,i),e.stateNode===null)Zs(t,e),Kf(e,n,r),ml(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ct(u):(u=qe(n)?Yn:Pe.current,u=Yr(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Yc(e,o,r,u),Xt=!1;var h=e.memoizedState;o.state=h,wo(e,r,o,i),l=e.memoizedState,a!==r||h!==l||He.current||Xt?(typeof c=="function"&&(gl(e,n,c,r),l=e.memoizedState),(a=Xt||Jc(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Cf(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gt(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ct(l):(l=qe(n)?Yn:Pe.current,l=Yr(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Yc(e,o,r,l),Xt=!1,h=e.memoizedState,o.state=h,wo(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||He.current||Xt?(typeof g=="function"&&(gl(e,n,g,r),m=e.memoizedState),(u=Xt||Jc(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return wl(t,e,n,r,s,i)}function wl(t,e,n,r,i,s){Xf(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Bc(e,n,!1),qt(t,e,s);r=e.stateNode,Xm.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zr(e,t.child,null,s),e.child=Zr(e,null,a,s)):Le(t,e,a,s),e.memoizedState=r.state,i&&Bc(e,n,!0),e.child}function Zf(t){var e=t.stateNode;e.pendingContext?Mc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Mc(t,e.context,!1),ju(t,e.containerInfo)}function id(t,e,n,r,i){return Xr(),ku(i),e.flags|=256,Le(t,e,n,r),e.child}var _l={dehydrated:null,treeContext:null,retryLane:0};function Sl(t){return{baseLanes:t,cachePool:null,transitions:null}}function ep(t,e,n){var r=e.pendingProps,i=ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),J(ne,i&1),t===null)return fl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wo(o,r,0,null),t=Jn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sl(n),e.memoizedState=_l,t):zu(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Zm(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Sn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Sn(a,s):(s=Jn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Sl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_l,r}return s=t.child,t=s.sibling,r=Sn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zu(t,e){return e=Wo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Is(t,e,n,r){return r!==null&&ku(r),Zr(e,t.child,null,n),t=zu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Zm(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ca(Error(C(422))),Is(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Wo({mode:"visible",children:r.children},i,0,null),s=Jn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zr(e,t.child,null,o),e.child.memoizedState=Sl(o),e.memoizedState=_l,s);if(!(e.mode&1))return Is(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(C(419)),r=Ca(s,r,void 0),Is(t,e,o,r)}if(a=(o&t.childLanes)!==0,We||a){if(r=_e,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ht(t,i),bt(r,t,i,-1))}return Wu(),r=Ca(Error(C(421))),Is(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hy.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Je=yn(i.nextSibling),Ye=e,ee=!0,St=null,t!==null&&(st[ot++]=Ut,st[ot++]=Ft,st[ot++]=Xn,Ut=t.id,Ft=t.overflow,Xn=e),e=zu(e,r.children),e.flags|=4096,e)}function sd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pl(t.return,e,n)}function Ta(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tp(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Le(t,e,r.children,n),r=ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sd(t,n,e);else if(t.tag===19)sd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(J(ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_o(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ta(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_o(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ta(e,!0,n,null,s);break;case"together":Ta(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),er|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=Sn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ey(t,e,n){switch(e.tag){case 3:Zf(e),Xr();break;case 5:Tf(e);break;case 1:qe(e.type)&&po(e);break;case 4:ju(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;J(yo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(J(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?ep(t,e,n):(J(ne,ne.current&1),t=qt(t,e,n),t!==null?t.sibling:null);J(ne,ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tp(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),J(ne,ne.current),r)break;return null;case 22:case 23:return e.lanes=0,Yf(t,e,n)}return qt(t,e,n)}var np,xl,rp,ip;np=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xl=function(){};rp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$n(It.current);var s=null;switch(n){case"input":i=Ha(t,i),r=Ha(t,r),s=[];break;case"select":i=ie({},i,{value:void 0}),r=ie({},r,{value:void 0}),s=[];break;case"textarea":i=Ka(t,i),r=Ka(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ho)}Ga(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Li.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Li.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Y("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ip=function(t,e,n,r){n!==r&&(e.flags|=4)};function gi(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ty(t,e,n){var r=e.pendingProps;switch(xu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(e),null;case 1:return qe(e.type)&&fo(),je(e),null;case 3:return r=e.stateNode,ei(),X(He),X(Pe),Au(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(As(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,St!==null&&(Ol(St),St=null))),xl(t,e),je(e),null;case 5:Ou(e);var i=$n(Ki.current);if(n=e.type,t!==null&&e.stateNode!=null)rp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return je(e),null}if(t=$n(It.current),As(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[At]=e,r[qi]=s,t=(e.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(i=0;i<Si.length;i++)Y(Si[i],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":pc(r,s),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Y("invalid",r);break;case"textarea":mc(r,s),Y("invalid",r)}Ga(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Os(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Os(r.textContent,a,t),i=["children",""+a]):Li.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Y("scroll",r)}switch(n){case"input":xs(r),gc(r,s,!0);break;case"textarea":xs(r),yc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ho)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ah(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[At]=e,t[qi]=r,np(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ja(n,r),n){case"dialog":Y("cancel",t),Y("close",t),i=r;break;case"iframe":case"object":case"embed":Y("load",t),i=r;break;case"video":case"audio":for(i=0;i<Si.length;i++)Y(Si[i],t);i=r;break;case"source":Y("error",t),i=r;break;case"img":case"image":case"link":Y("error",t),Y("load",t),i=r;break;case"details":Y("toggle",t),i=r;break;case"input":pc(t,r),i=Ha(t,r),Y("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ie({},r,{value:void 0}),Y("invalid",t);break;case"textarea":mc(t,r),i=Ka(t,r),Y("invalid",t);break;default:i=r}Ga(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Nh(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ph(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Di(t,l):typeof l=="number"&&Di(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Li.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Y("scroll",t):l!=null&&au(t,s,l,o))}switch(n){case"input":xs(t),gc(t,r,!1);break;case"textarea":xs(t),yc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ar(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ar(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ho)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return je(e),null;case 6:if(t&&e.stateNode!=null)ip(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=$n(Ki.current),$n(It.current),As(e)){if(r=e.stateNode,n=e.memoizedProps,r[At]=e,(s=r.nodeValue!==n)&&(t=Ye,t!==null))switch(t.tag){case 3:Os(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Os(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[At]=e,e.stateNode=r}return je(e),null;case 13:if(X(ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ee&&Je!==null&&e.mode&1&&!(e.flags&128))xf(),Xr(),e.flags|=98560,s=!1;else if(s=As(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(C(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[At]=e}else Xr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;je(e),s=!1}else St!==null&&(Ol(St),St=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?ve===0&&(ve=3):Wu())),e.updateQueue!==null&&(e.flags|=4),je(e),null);case 4:return ei(),xl(t,e),t===null&&Wi(e.stateNode.containerInfo),je(e),null;case 10:return Cu(e.type._context),je(e),null;case 17:return qe(e.type)&&fo(),je(e),null;case 19:if(X(ne),s=e.memoizedState,s===null)return je(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)gi(s,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_o(t),o!==null){for(e.flags|=128,gi(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return J(ne,ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&ce()>ni&&(e.flags|=128,r=!0,gi(s,!1),e.lanes=4194304)}else{if(!r)if(t=_o(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ee)return je(e),null}else 2*ce()-s.renderingStartTime>ni&&n!==1073741824&&(e.flags|=128,r=!0,gi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ce(),e.sibling=null,n=ne.current,J(ne,r?n&1|2:n&1),e):(je(e),null);case 22:case 23:return Bu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qe&1073741824&&(je(e),e.subtreeFlags&6&&(e.flags|=8192)):je(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function ny(t,e){switch(xu(e),e.tag){case 1:return qe(e.type)&&fo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ei(),X(He),X(Pe),Au(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ou(e),null;case 13:if(X(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Xr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(ne),null;case 4:return ei(),null;case 10:return Cu(e.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var Ns=!1,Ae=!1,ry=typeof WeakSet=="function"?WeakSet:Set,A=null;function Rr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(t,e,r)}else n.current=null}function kl(t,e,n){try{n()}catch(r){ue(t,e,r)}}var od=!1;function iy(t,e){if(ol=lo,t=uf(),_u(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(al={focusedElem:t,selectionRange:n},lo=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,x=m.memoizedState,w=e.stateNode,p=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:gt(e.type,_),x);w.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(k){ue(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return m=od,od=!1,m}function Oi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&kl(e,n,s)}i=i.next}while(i!==r)}}function Mo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sp(t){var e=t.alternate;e!==null&&(t.alternate=null,sp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[At],delete e[qi],delete e[cl],delete e[Fm],delete e[Mm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function op(t){return t.tag===5||t.tag===3||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||op(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function El(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ho));else if(r!==4&&(t=t.child,t!==null))for(El(t,e,n),t=t.sibling;t!==null;)El(t,e,n),t=t.sibling}function Cl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cl(t,e,n),t=t.sibling;t!==null;)Cl(t,e,n),t=t.sibling}var be=null,wt=!1;function Gt(t,e,n){for(n=n.child;n!==null;)ap(t,e,n),n=n.sibling}function ap(t,e,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Io,n)}catch{}switch(n.tag){case 5:Ae||Rr(n,e);case 6:var r=be,i=wt;be=null,Gt(t,e,n),be=r,wt=i,be!==null&&(wt?(t=be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(wt?(t=be,n=n.stateNode,t.nodeType===8?_a(t.parentNode,n):t.nodeType===1&&_a(t,n),Fi(t)):_a(be,n.stateNode));break;case 4:r=be,i=wt,be=n.stateNode.containerInfo,wt=!0,Gt(t,e,n),be=r,wt=i;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&kl(n,e,o),i=i.next}while(i!==r)}Gt(t,e,n);break;case 1:if(!Ae&&(Rr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,e,a)}Gt(t,e,n);break;case 21:Gt(t,e,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,Gt(t,e,n),Ae=r):Gt(t,e,n);break;default:Gt(t,e,n)}}function ld(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ry),e.forEach(function(r){var i=fy.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,wt=!1;break e;case 3:be=a.stateNode.containerInfo,wt=!0;break e;case 4:be=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(be===null)throw Error(C(160));ap(s,o,i),be=null,wt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ue(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lp(e,t),e=e.sibling}function lp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ft(e,t),Ct(t),r&4){try{Oi(3,t,t.return),Mo(3,t)}catch(_){ue(t,t.return,_)}try{Oi(5,t,t.return)}catch(_){ue(t,t.return,_)}}break;case 1:ft(e,t),Ct(t),r&512&&n!==null&&Rr(n,n.return);break;case 5:if(ft(e,t),Ct(t),r&512&&n!==null&&Rr(n,n.return),t.flags&32){var i=t.stateNode;try{Di(i,"")}catch(_){ue(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jh(i,s),Ja(a,o);var u=Ja(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Nh(i,d):c==="dangerouslySetInnerHTML"?Ph(i,d):c==="children"?Di(i,d):au(i,c,d,u)}switch(a){case"input":qa(i,s);break;case"textarea":Oh(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ar(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ar(i,!!s.multiple,s.defaultValue,!0):Ar(i,!!s.multiple,s.multiple?[]:"",!1))}i[qi]=s}catch(_){ue(t,t.return,_)}}break;case 6:if(ft(e,t),Ct(t),r&4){if(t.stateNode===null)throw Error(C(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){ue(t,t.return,_)}}break;case 3:if(ft(e,t),Ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fi(e.containerInfo)}catch(_){ue(t,t.return,_)}break;case 4:ft(e,t),Ct(t);break;case 13:ft(e,t),Ct(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fu=ce())),r&4&&ld(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ae=(u=Ae)||c,ft(e,t),Ae=u):ft(e,t),Ct(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(A=t,c=t.child;c!==null;){for(d=A=c;A!==null;){switch(h=A,g=h.child,h.tag){case 0:case 11:case 14:case 15:Oi(4,h,h.return);break;case 1:Rr(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){ue(r,n,_)}}break;case 5:Rr(h,h.return);break;case 22:if(h.memoizedState!==null){cd(d);continue}}g!==null?(g.return=h,A=g):cd(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ih("display",o))}catch(_){ue(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){ue(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ft(e,t),Ct(t),r&4&&ld(t);break;case 21:break;default:ft(e,t),Ct(t)}}function Ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(op(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Di(i,""),r.flags&=-33);var s=ad(t);Cl(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ad(t);El(t,a,o);break;default:throw Error(C(161))}}catch(l){ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sy(t,e,n){A=t,up(t)}function up(t,e,n){for(var r=(t.mode&1)!==0;A!==null;){var i=A,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ns;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ae;a=Ns;var u=Ae;if(Ns=o,(Ae=l)&&!u)for(A=i;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?dd(i):l!==null?(l.return=o,A=l):dd(i);for(;s!==null;)A=s,up(s),s=s.sibling;A=i,Ns=a,Ae=u}ud(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,A=s):ud(t)}}function ud(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||Mo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Kc(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kc(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Fi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ae||e.flags&512&&bl(e)}catch(h){ue(e,e.return,h)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function cd(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function dd(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mo(4,e)}catch(l){ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ue(e,i,l)}}var s=e.return;try{bl(e)}catch(l){ue(e,s,l)}break;case 5:var o=e.return;try{bl(e)}catch(l){ue(e,o,l)}}}catch(l){ue(e,e.return,l)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var oy=Math.ceil,ko=Vt.ReactCurrentDispatcher,$u=Vt.ReactCurrentOwner,ut=Vt.ReactCurrentBatchConfig,V=0,_e=null,ge=null,Ce=0,Qe=0,jr=Cn(0),ve=0,Yi=null,er=0,Bo=0,Uu=0,Ai=null,Be=null,Fu=0,ni=1/0,Lt=null,bo=!1,Tl=null,wn=null,Ls=!1,fn=null,Eo=0,Pi=0,Rl=null,eo=-1,to=0;function De(){return V&6?ce():eo!==-1?eo:eo=ce()}function _n(t){return t.mode&1?V&2&&Ce!==0?Ce&-Ce:Wm.transition!==null?(to===0&&(to=Vh()),to):(t=Q,t!==0||(t=window.event,t=t===void 0?16:Zh(t.type)),t):1}function bt(t,e,n,r){if(50<Pi)throw Pi=0,Rl=null,Error(C(185));hs(t,n,r),(!(V&2)||t!==_e)&&(t===_e&&(!(V&2)&&(Bo|=n),ve===4&&tn(t,Ce)),Ve(t,r),n===1&&V===0&&!(e.mode&1)&&(ni=ce()+500,$o&&Tn()))}function Ve(t,e){var n=t.callbackNode;Wg(t,e);var r=ao(t,t===_e?Ce:0);if(r===0)n!==null&&_c(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_c(n),e===1)t.tag===0?Bm(hd.bind(null,t)):wf(hd.bind(null,t)),$m(function(){!(V&6)&&Tn()}),n=null;else{switch(Kh(r)){case 1:n=hu;break;case 4:n=Hh;break;case 16:n=oo;break;case 536870912:n=qh;break;default:n=oo}n=yp(n,cp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cp(t,e){if(eo=-1,to=0,V&6)throw Error(C(327));var n=t.callbackNode;if(Dr()&&t.callbackNode!==n)return null;var r=ao(t,t===_e?Ce:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Co(t,r);else{e=r;var i=V;V|=2;var s=hp();(_e!==t||Ce!==e)&&(Lt=null,ni=ce()+500,Gn(t,e));do try{uy();break}catch(a){dp(t,a)}while(!0);Eu(),ko.current=s,V=i,ge!==null?e=0:(_e=null,Ce=0,e=ve)}if(e!==0){if(e===2&&(i=tl(t),i!==0&&(r=i,e=jl(t,i))),e===1)throw n=Yi,Gn(t,0),tn(t,r),Ve(t,ce()),n;if(e===6)tn(t,r);else{if(i=t.current.alternate,!(r&30)&&!ay(i)&&(e=Co(t,r),e===2&&(s=tl(t),s!==0&&(r=s,e=jl(t,s))),e===1))throw n=Yi,Gn(t,0),tn(t,r),Ve(t,ce()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:Pn(t,Be,Lt);break;case 3:if(tn(t,r),(r&130023424)===r&&(e=Fu+500-ce(),10<e)){if(ao(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){De(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ul(Pn.bind(null,t,Be,Lt),e);break}Pn(t,Be,Lt);break;case 4:if(tn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-kt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oy(r/1960))-r,10<r){t.timeoutHandle=ul(Pn.bind(null,t,Be,Lt),r);break}Pn(t,Be,Lt);break;case 5:Pn(t,Be,Lt);break;default:throw Error(C(329))}}}return Ve(t,ce()),t.callbackNode===n?cp.bind(null,t):null}function jl(t,e){var n=Ai;return t.current.memoizedState.isDehydrated&&(Gn(t,e).flags|=256),t=Co(t,e),t!==2&&(e=Be,Be=n,e!==null&&Ol(e)),t}function Ol(t){Be===null?Be=t:Be.push.apply(Be,t)}function ay(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Et(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tn(t,e){for(e&=~Uu,e&=~Bo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),r=1<<n;t[n]=-1,e&=~r}}function hd(t){if(V&6)throw Error(C(327));Dr();var e=ao(t,0);if(!(e&1))return Ve(t,ce()),null;var n=Co(t,e);if(t.tag!==0&&n===2){var r=tl(t);r!==0&&(e=r,n=jl(t,r))}if(n===1)throw n=Yi,Gn(t,0),tn(t,e),Ve(t,ce()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pn(t,Be,Lt),Ve(t,ce()),null}function Mu(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(ni=ce()+500,$o&&Tn())}}function tr(t){fn!==null&&fn.tag===0&&!(V&6)&&Dr();var e=V;V|=1;var n=ut.transition,r=Q;try{if(ut.transition=null,Q=1,t)return t()}finally{Q=r,ut.transition=n,V=e,!(V&6)&&Tn()}}function Bu(){Qe=jr.current,X(jr)}function Gn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zm(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(xu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fo();break;case 3:ei(),X(He),X(Pe),Au();break;case 5:Ou(r);break;case 4:ei();break;case 13:X(ne);break;case 19:X(ne);break;case 10:Cu(r.type._context);break;case 22:case 23:Bu()}n=n.return}if(_e=t,ge=t=Sn(t.current,null),Ce=Qe=e,ve=0,Yi=null,Uu=Bo=er=0,Be=Ai=null,zn!==null){for(e=0;e<zn.length;e++)if(n=zn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zn=null}return t}function dp(t,e){do{var n=ge;try{if(Eu(),Ys.current=xo,So){for(var r=re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}So=!1}if(Zn=0,we=ye=re=null,ji=!1,Qi=0,$u.current=null,n===null||n.return===null){ve=1,Yi=e,ge=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ce,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Zc(o);if(g!==null){g.flags&=-257,ed(g,o,a,s,e),g.mode&1&&Xc(s,u,e),e=g,l=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if(!(e&1)){Xc(s,u,e),Wu();break e}l=Error(C(426))}}else if(ee&&a.mode&1){var x=Zc(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),ed(x,o,a,s,e),ku(ti(l,a));break e}}s=l=ti(l,a),ve!==4&&(ve=2),Ai===null?Ai=[s]:Ai.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Qf(s,l,e);Vc(s,w);break e;case 1:a=l;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wn===null||!wn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=Gf(s,a,e);Vc(s,k);break e}}s=s.return}while(s!==null)}pp(n)}catch(E){e=E,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function hp(){var t=ko.current;return ko.current=xo,t===null?xo:t}function Wu(){(ve===0||ve===3||ve===2)&&(ve=4),_e===null||!(er&268435455)&&!(Bo&268435455)||tn(_e,Ce)}function Co(t,e){var n=V;V|=2;var r=hp();(_e!==t||Ce!==e)&&(Lt=null,Gn(t,e));do try{ly();break}catch(i){dp(t,i)}while(!0);if(Eu(),V=n,ko.current=r,ge!==null)throw Error(C(261));return _e=null,Ce=0,ve}function ly(){for(;ge!==null;)fp(ge)}function uy(){for(;ge!==null&&!Ng();)fp(ge)}function fp(t){var e=mp(t.alternate,t,Qe);t.memoizedProps=t.pendingProps,e===null?pp(t):ge=e,$u.current=null}function pp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ny(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,ge=null;return}}else if(n=ty(n,e,Qe),n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);ve===0&&(ve=5)}function Pn(t,e,n){var r=Q,i=ut.transition;try{ut.transition=null,Q=1,cy(t,e,n,r)}finally{ut.transition=i,Q=r}return null}function cy(t,e,n,r){do Dr();while(fn!==null);if(V&6)throw Error(C(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Hg(t,s),t===_e&&(ge=_e=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ls||(Ls=!0,yp(oo,function(){return Dr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ut.transition,ut.transition=null;var o=Q;Q=1;var a=V;V|=4,$u.current=null,iy(t,n),lp(n,t),Om(al),lo=!!ol,al=ol=null,t.current=n,sy(n),Lg(),V=a,Q=o,ut.transition=s}else t.current=n;if(Ls&&(Ls=!1,fn=t,Eo=i),s=t.pendingLanes,s===0&&(wn=null),$g(n.stateNode),Ve(t,ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bo)throw bo=!1,t=Tl,Tl=null,t;return Eo&1&&t.tag!==0&&Dr(),s=t.pendingLanes,s&1?t===Rl?Pi++:(Pi=0,Rl=t):Pi=0,Tn(),null}function Dr(){if(fn!==null){var t=Kh(Eo),e=ut.transition,n=Q;try{if(ut.transition=null,Q=16>t?16:t,fn===null)var r=!1;else{if(t=fn,fn=null,Eo=0,V&6)throw Error(C(331));var i=V;for(V|=4,A=t.current;A!==null;){var s=A,o=s.child;if(A.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:Oi(8,c,s)}var d=c.child;if(d!==null)d.return=c,A=d;else for(;A!==null;){c=A;var h=c.sibling,g=c.return;if(sp(c),c===u){A=null;break}if(h!==null){h.return=g,A=h;break}A=g}}}var m=s.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}A=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,A=o;else e:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oi(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,A=w;break e}A=s.return}}var p=t.current;for(A=p;A!==null;){o=A;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,A=v;else e:for(o=p;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mo(9,a)}}catch(E){ue(a,a.return,E)}if(a===o){A=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,A=k;break e}A=a.return}}if(V=i,Tn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Io,t)}catch{}r=!0}return r}finally{Q=n,ut.transition=e}}return!1}function fd(t,e,n){e=ti(n,e),e=Qf(t,e,1),t=vn(t,e,1),e=De(),t!==null&&(hs(t,1,e),Ve(t,e))}function ue(t,e,n){if(t.tag===3)fd(t,t,n);else for(;e!==null;){if(e.tag===3){fd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){t=ti(n,t),t=Gf(e,t,1),e=vn(e,t,1),t=De(),e!==null&&(hs(e,1,t),Ve(e,t));break}}e=e.return}}function dy(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=De(),t.pingedLanes|=t.suspendedLanes&n,_e===t&&(Ce&n)===n&&(ve===4||ve===3&&(Ce&130023424)===Ce&&500>ce()-Fu?Gn(t,0):Uu|=n),Ve(t,e)}function gp(t,e){e===0&&(t.mode&1?(e=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):e=1);var n=De();t=Ht(t,e),t!==null&&(hs(t,e,n),Ve(t,n))}function hy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gp(t,n)}function fy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),gp(t,n)}var mp;mp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||He.current)We=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return We=!1,ey(t,e,n);We=!!(t.flags&131072)}else We=!1,ee&&e.flags&1048576&&_f(e,mo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zs(t,e),t=e.pendingProps;var i=Yr(e,Pe.current);Lr(e,n),i=Iu(null,e,r,t,i,n);var s=Nu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qe(r)?(s=!0,po(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ru(e),i.updater=Fo,e.stateNode=i,i._reactInternals=e,ml(e,r,t,n),e=wl(null,e,r,!0,s,n)):(e.tag=0,ee&&s&&Su(e),Le(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gy(r),t=gt(r,t),i){case 0:e=vl(null,e,r,t,n);break e;case 1:e=rd(null,e,r,t,n);break e;case 11:e=td(null,e,r,t,n);break e;case 14:e=nd(null,e,r,gt(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gt(r,i),vl(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gt(r,i),rd(t,e,r,i,n);case 3:e:{if(Zf(e),t===null)throw Error(C(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Cf(t,e),wo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ti(Error(C(423)),e),e=id(t,e,r,n,i);break e}else if(r!==i){i=ti(Error(C(424)),e),e=id(t,e,r,n,i);break e}else for(Je=yn(e.stateNode.containerInfo.firstChild),Ye=e,ee=!0,St=null,n=bf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xr(),r===i){e=qt(t,e,n);break e}Le(t,e,r,n)}e=e.child}return e;case 5:return Tf(e),t===null&&fl(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ll(r,i)?o=null:s!==null&&ll(r,s)&&(e.flags|=32),Xf(t,e),Le(t,e,o,n),e.child;case 6:return t===null&&fl(e),null;case 13:return ep(t,e,n);case 4:return ju(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zr(e,null,r,n):Le(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gt(r,i),td(t,e,r,i,n);case 7:return Le(t,e,e.pendingProps,n),e.child;case 8:return Le(t,e,e.pendingProps.children,n),e.child;case 12:return Le(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,J(yo,r._currentValue),r._currentValue=o,s!==null)if(Et(s.value,o)){if(s.children===i.children&&!He.current){e=qt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pl(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pl(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Le(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lr(e,n),i=ct(i),r=r(i),e.flags|=1,Le(t,e,r,n),e.child;case 14:return r=e.type,i=gt(r,e.pendingProps),i=gt(r.type,i),nd(t,e,r,i,n);case 15:return Jf(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gt(r,i),Zs(t,e),e.tag=1,qe(r)?(t=!0,po(e)):t=!1,Lr(e,n),Kf(e,r,i),ml(e,r,i,n),wl(null,e,r,!0,t,n);case 19:return tp(t,e,n);case 22:return Yf(t,e,n)}throw Error(C(156,e.tag))};function yp(t,e){return Wh(t,e)}function py(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(t,e,n,r){return new py(t,e,n,r)}function Hu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gy(t){if(typeof t=="function")return Hu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uu)return 11;if(t===cu)return 14}return 2}function Sn(t,e){var n=t.alternate;return n===null?(n=lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function no(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Hu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wr:return Jn(n.children,i,s,e);case lu:o=8,i|=8;break;case Fa:return t=lt(12,n,e,i|2),t.elementType=Fa,t.lanes=s,t;case Ma:return t=lt(13,n,e,i),t.elementType=Ma,t.lanes=s,t;case Ba:return t=lt(19,n,e,i),t.elementType=Ba,t.lanes=s,t;case Ch:return Wo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bh:o=10;break e;case Eh:o=9;break e;case uu:o=11;break e;case cu:o=14;break e;case Yt:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=lt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Jn(t,e,n,r){return t=lt(7,t,r,e),t.lanes=n,t}function Wo(t,e,n,r){return t=lt(22,t,r,e),t.elementType=Ch,t.lanes=n,t.stateNode={isHidden:!1},t}function Ra(t,e,n){return t=lt(6,t,null,e),t.lanes=n,t}function ja(t,e,n){return e=lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function my(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ua(0),this.expirationTimes=ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ua(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qu(t,e,n,r,i,s,o,a,l){return t=new my(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=lt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(s),t}function yy(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vp(t){if(!t)return bn;t=t._reactInternals;e:{if(or(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(qe(n))return vf(t,n,e)}return e}function wp(t,e,n,r,i,s,o,a,l){return t=qu(n,r,!0,t,i,s,o,a,l),t.context=vp(null),n=t.current,r=De(),i=_n(n),s=Mt(r,i),s.callback=e??null,vn(n,s,i),t.current.lanes=i,hs(t,i,r),Ve(t,r),t}function Ho(t,e,n,r){var i=e.current,s=De(),o=_n(i);return n=vp(n),e.context===null?e.context=n:e.pendingContext=n,e=Mt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vn(i,e,o),t!==null&&(bt(t,i,o,s),Js(t,i,o)),o}function To(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vu(t,e){pd(t,e),(t=t.alternate)&&pd(t,e)}function vy(){return null}var _p=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ku(t){this._internalRoot=t}qo.prototype.render=Ku.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));Ho(t,e,null,null)};qo.prototype.unmount=Ku.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tr(function(){Ho(null,t,null,null)}),e[Wt]=null}};function qo(t){this._internalRoot=t}qo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<en.length&&e!==0&&e<en[n].priority;n++);en.splice(n,0,t),n===0&&Xh(t)}};function Qu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gd(){}function wy(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=To(o);s.call(u)}}var o=wp(e,r,t,0,null,!1,!1,"",gd);return t._reactRootContainer=o,t[Wt]=o.current,Wi(t.nodeType===8?t.parentNode:t),tr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=To(l);a.call(u)}}var l=qu(t,0,!1,null,null,!1,!1,"",gd);return t._reactRootContainer=l,t[Wt]=l.current,Wi(t.nodeType===8?t.parentNode:t),tr(function(){Ho(e,l,n,r)}),l}function Ko(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=To(o);a.call(l)}}Ho(e,o,t,i)}else o=wy(n,e,t,i,r);return To(o)}Qh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_i(e.pendingLanes);n!==0&&(fu(e,n|1),Ve(e,ce()),!(V&6)&&(ni=ce()+500,Tn()))}break;case 13:tr(function(){var r=Ht(t,1);if(r!==null){var i=De();bt(r,t,1,i)}}),Vu(t,1)}};pu=function(t){if(t.tag===13){var e=Ht(t,134217728);if(e!==null){var n=De();bt(e,t,134217728,n)}Vu(t,134217728)}};Gh=function(t){if(t.tag===13){var e=_n(t),n=Ht(t,e);if(n!==null){var r=De();bt(n,t,e,r)}Vu(t,e)}};Jh=function(){return Q};Yh=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};Xa=function(t,e,n){switch(e){case"input":if(qa(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zo(r);if(!i)throw Error(C(90));Rh(r),qa(r,i)}}}break;case"textarea":Oh(t,n);break;case"select":e=n.value,e!=null&&Ar(t,!!n.multiple,e,!1)}};zh=Mu;$h=tr;var _y={usingClientEntryPoint:!1,Events:[ps,kr,zo,Lh,Dh,Mu]},mi={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sy={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mh(t),t===null?null:t.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||vy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Io=Ds.inject(Sy),Pt=Ds}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y;Ze.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qu(e))throw Error(C(200));return yy(t,e,null,n)};Ze.createRoot=function(t,e){if(!Qu(t))throw Error(C(299));var n=!1,r="",i=_p;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qu(t,1,!1,null,null,n,!1,r,i),t[Wt]=e.current,Wi(t.nodeType===8?t.parentNode:t),new Ku(e)};Ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Mh(e),t=t===null?null:t.stateNode,t};Ze.flushSync=function(t){return tr(t)};Ze.hydrate=function(t,e,n){if(!Vo(e))throw Error(C(200));return Ko(null,t,e,!0,n)};Ze.hydrateRoot=function(t,e,n){if(!Qu(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_p;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=wp(e,null,t,1,n??null,i,!1,s,o),t[Wt]=e.current,Wi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qo(e)};Ze.render=function(t,e,n){if(!Vo(e))throw Error(C(200));return Ko(null,t,e,!1,n)};Ze.unmountComponentAtNode=function(t){if(!Vo(t))throw Error(C(40));return t._reactRootContainer?(tr(function(){Ko(null,null,t,!1,function(){t._reactRootContainer=null,t[Wt]=null})}),!0):!1};Ze.unstable_batchedUpdates=Mu;Ze.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vo(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return Ko(t,e,n,!1,r)};Ze.version="18.3.1-next-f1338f8080-20240426";function Sp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sp)}catch(t){console.error(t)}}Sp(),_h.exports=Ze;var xy=_h.exports,xp,md=xy;xp=md.createRoot,md.hydrateRoot;var ms=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nr=typeof window>"u"||"Deno"in globalThis;function Me(){}function ky(t,e){return typeof t=="function"?t(e):t}function Al(t){return typeof t=="number"&&t>=0&&t!==1/0}function kp(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xn(t,e){return typeof t=="function"?t(e):t}function it(t,e){return typeof t=="function"?t(e):t}function yd(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Gu(o,e.options))return!1}else if(!Zi(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function vd(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Xi(e.options.mutationKey)!==Xi(s))return!1}else if(!Zi(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Gu(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xi)(t)}function Xi(t){return JSON.stringify(t,(e,n)=>Il(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Zi(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Zi(t[n],e[n])):!1}function bp(t,e){if(t===e)return t;const n=wd(t)&&wd(e);if(n||Il(t)&&Il(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(r);let u=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,u++):(a[d]=bp(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&u++)}return i===o&&u===i?t:a}return e}function Pl(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function wd(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Il(t){if(!_d(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_d(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _d(t){return Object.prototype.toString.call(t)==="[object Object]"}function by(t){return new Promise(e=>{setTimeout(e,t)})}function Nl(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bp(t,e):e}function Ey(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Cy(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ju=Symbol();function Ep(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ju?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Ty(t,e){return typeof t=="function"?t(...e):!!t}var Fn,rn,$r,eh,Ry=(eh=class extends ms{constructor(){super();$(this,Fn);$(this,rn);$(this,$r);P(this,$r,e=>{if(!nr&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,rn)||this.setEventListener(S(this,$r))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,rn))==null||e.call(this),P(this,rn,void 0))}setEventListener(e){var n;P(this,$r,e),(n=S(this,rn))==null||n.call(this),P(this,rn,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){S(this,Fn)!==e&&(P(this,Fn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof S(this,Fn)=="boolean"?S(this,Fn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fn=new WeakMap,rn=new WeakMap,$r=new WeakMap,eh),Yu=new Ry,Ur,sn,Fr,th,jy=(th=class extends ms{constructor(){super();$(this,Ur,!0);$(this,sn);$(this,Fr);P(this,Fr,e=>{if(!nr&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,sn)||this.setEventListener(S(this,Fr))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,sn))==null||e.call(this),P(this,sn,void 0))}setEventListener(e){var n;P(this,Fr,e),(n=S(this,sn))==null||n.call(this),P(this,sn,e(this.setOnline.bind(this)))}setOnline(e){S(this,Ur)!==e&&(P(this,Ur,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return S(this,Ur)}},Ur=new WeakMap,sn=new WeakMap,Fr=new WeakMap,th),Ro=new jy;function Ll(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Oy(t){return Math.min(1e3*2**t,3e4)}function Cp(t){return(t??"online")==="online"?Ro.isOnline():!0}var Tp=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Oa(t){return t instanceof Tp}function Rp(t){let e=!1,n=0,r=!1,i;const s=Ll(),o=_=>{var x;r||(h(new Tp(_)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>Yu.isFocused()&&(t.networkMode==="always"||Ro.isOnline())&&t.canRun(),c=()=>Cp(t.networkMode)&&t.canRun(),d=_=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,_),i==null||i(),s.resolve(_))},h=_=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,_),i==null||i(),s.reject(_))},g=()=>new Promise(_=>{var x;i=w=>{(r||u())&&_(w)},(x=t.onPause)==null||x.call(t)}).then(()=>{var _;i=void 0,r||(_=t.onContinue)==null||_.call(t)}),m=()=>{if(r)return;let _;const x=n===0?t.initialPromise:void 0;try{_=x??t.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(d).catch(w=>{var b;if(r)return;const p=t.retry??(nr?0:3),v=t.retryDelay??Oy,k=typeof v=="function"?v(n,w):v,E=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,w);if(e||!E){h(w);return}n++,(b=t.onFail)==null||b.call(t,n,w),by(k).then(()=>u()?void 0:g()).then(()=>{e?h(w):m()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?m():g().then(m),s)}}var Ay=t=>setTimeout(t,0);function Py(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=Ay;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Ee=Py(),Mn,nh,jp=(nh=class{constructor(){$(this,Mn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Al(this.gcTime)&&P(this,Mn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nr?1/0:5*60*1e3))}clearGcTimeout(){S(this,Mn)&&(clearTimeout(S(this,Mn)),P(this,Mn,void 0))}},Mn=new WeakMap,nh),Mr,Bn,rt,Wn,Oe,as,Hn,yt,Nt,rh,Iy=(rh=class extends jp{constructor(e){super();$(this,yt);$(this,Mr);$(this,Bn);$(this,rt);$(this,Wn);$(this,Oe);$(this,as);$(this,Hn);P(this,Hn,!1),P(this,as,e.defaultOptions),this.setOptions(e.options),this.observers=[],P(this,Wn,e.client),P(this,rt,S(this,Wn).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,P(this,Mr,Ny(this.options)),this.state=e.state??S(this,Mr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=S(this,Oe))==null?void 0:e.promise}setOptions(e){this.options={...S(this,as),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,rt).remove(this)}setData(e,n){const r=Nl(this.state.data,e,this.options);return H(this,yt,Nt).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){H(this,yt,Nt).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=S(this,Oe))==null?void 0:r.promise;return(i=S(this,Oe))==null||i.cancel(e),n?n.then(Me).catch(Me):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,Mr))}isActive(){return this.observers.some(e=>it(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ju||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>xn(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!kp(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,Oe))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=S(this,Oe))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),S(this,rt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(S(this,Oe)&&(S(this,Hn)?S(this,Oe).cancel({revert:!0}):S(this,Oe).cancelRetry()),this.scheduleGc()),S(this,rt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||H(this,yt,Nt).call(this,{type:"invalidate"})}fetch(e,n){var u,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,Oe))return S(this,Oe).continueRetry(),S(this,Oe).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(P(this,Hn,!0),r.signal)})},s=()=>{const h=Ep(this.options,n),m=(()=>{const _={client:S(this,Wn),queryKey:this.queryKey,meta:this.meta};return i(_),_})();return P(this,Hn,!1),this.options.persister?this.options.persister(h,m,this):h(m)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:S(this,Wn),state:this.state,fetchFn:s};return i(h),h})();(u=this.options.behavior)==null||u.onFetch(a,this),P(this,Bn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&H(this,yt,Nt).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var g,m,_,x;Oa(h)&&h.silent||H(this,yt,Nt).call(this,{type:"error",error:h}),Oa(h)||((m=(g=S(this,rt).config).onError)==null||m.call(g,h,this),(x=(_=S(this,rt).config).onSettled)==null||x.call(_,this.state.data,h,this)),this.scheduleGc()};return P(this,Oe,Rp({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var g,m,_,x;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){l(w);return}(m=(g=S(this,rt).config).onSuccess)==null||m.call(g,h,this),(x=(_=S(this,rt).config).onSettled)==null||x.call(_,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,g)=>{H(this,yt,Nt).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{H(this,yt,Nt).call(this,{type:"pause"})},onContinue:()=>{H(this,yt,Nt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),S(this,Oe).start()}},Mr=new WeakMap,Bn=new WeakMap,rt=new WeakMap,Wn=new WeakMap,Oe=new WeakMap,as=new WeakMap,Hn=new WeakMap,yt=new WeakSet,Nt=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Op(r.data,this.options),fetchMeta:e.meta??null};case"success":return P(this,Bn,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Oa(i)&&i.revert&&S(this,Bn)?{...S(this,Bn),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ee.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,rt).notify({query:this,type:"updated",action:e})})},rh);function Op(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Cp(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ny(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rt,ih,Ly=(ih=class extends ms{constructor(e={}){super();$(this,Rt);this.config=e,P(this,Rt,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Gu(i,n);let o=this.get(s);return o||(o=new Iy({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){S(this,Rt).has(e.queryHash)||(S(this,Rt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=S(this,Rt).get(e.queryHash);n&&(e.destroy(),n===e&&S(this,Rt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ee.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return S(this,Rt).get(e)}getAll(){return[...S(this,Rt).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yd(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>yd(e,r)):n}notify(e){Ee.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ee.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ee.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rt=new WeakMap,ih),jt,Ie,qn,Ot,Jt,sh,Dy=(sh=class extends jp{constructor(e){super();$(this,Ot);$(this,jt);$(this,Ie);$(this,qn);this.mutationId=e.mutationId,P(this,Ie,e.mutationCache),P(this,jt,[]),this.state=e.state||zy(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){S(this,jt).includes(e)||(S(this,jt).push(e),this.clearGcTimeout(),S(this,Ie).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){P(this,jt,S(this,jt).filter(n=>n!==e)),this.scheduleGc(),S(this,Ie).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){S(this,jt).length||(this.state.status==="pending"?this.scheduleGc():S(this,Ie).remove(this))}continue(){var e;return((e=S(this,qn))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,l,u,c,d,h,g,m,_,x,w,p,v,k,E,b,T,R;const n=()=>{H(this,Ot,Jt).call(this,{type:"continue"})};P(this,qn,Rp({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(L,N)=>{H(this,Ot,Jt).call(this,{type:"failed",failureCount:L,error:N})},onPause:()=>{H(this,Ot,Jt).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,Ie).canRun(this)}));const r=this.state.status==="pending",i=!S(this,qn).canStart();try{if(r)n();else{H(this,Ot,Jt).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=S(this,Ie).config).onMutate)==null?void 0:o.call(s,e,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));N!==this.state.context&&H(this,Ot,Jt).call(this,{type:"pending",context:N,variables:e,isPaused:i})}const L=await S(this,qn).start();return await((c=(u=S(this,Ie).config).onSuccess)==null?void 0:c.call(u,L,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,L,e,this.state.context)),await((m=(g=S(this,Ie).config).onSettled)==null?void 0:m.call(g,L,null,this.state.variables,this.state.context,this)),await((x=(_=this.options).onSettled)==null?void 0:x.call(_,L,null,e,this.state.context)),H(this,Ot,Jt).call(this,{type:"success",data:L}),L}catch(L){try{throw await((p=(w=S(this,Ie).config).onError)==null?void 0:p.call(w,L,e,this.state.context,this)),await((k=(v=this.options).onError)==null?void 0:k.call(v,L,e,this.state.context)),await((b=(E=S(this,Ie).config).onSettled)==null?void 0:b.call(E,void 0,L,this.state.variables,this.state.context,this)),await((R=(T=this.options).onSettled)==null?void 0:R.call(T,void 0,L,e,this.state.context)),L}finally{H(this,Ot,Jt).call(this,{type:"error",error:L})}}finally{S(this,Ie).runNext(this)}}},jt=new WeakMap,Ie=new WeakMap,qn=new WeakMap,Ot=new WeakSet,Jt=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ee.batch(()=>{S(this,jt).forEach(r=>{r.onMutationUpdate(e)}),S(this,Ie).notify({mutation:this,type:"updated",action:e})})},sh);function zy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $t,vt,ls,oh,$y=(oh=class extends ms{constructor(e={}){super();$(this,$t);$(this,vt);$(this,ls);this.config=e,P(this,$t,new Set),P(this,vt,new Map),P(this,ls,0)}build(e,n,r){const i=new Dy({mutationCache:this,mutationId:++ws(this,ls)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){S(this,$t).add(e);const n=zs(e);if(typeof n=="string"){const r=S(this,vt).get(n);r?r.push(e):S(this,vt).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(S(this,$t).delete(e)){const n=zs(e);if(typeof n=="string"){const r=S(this,vt).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&S(this,vt).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=zs(e);if(typeof n=="string"){const r=S(this,vt).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=zs(e);if(typeof n=="string"){const i=(r=S(this,vt).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ee.batch(()=>{S(this,$t).forEach(e=>{this.notify({type:"removed",mutation:e})}),S(this,$t).clear(),S(this,vt).clear()})}getAll(){return Array.from(S(this,$t))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vd(n,r))}findAll(e={}){return this.getAll().filter(n=>vd(e,n))}notify(e){Ee.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ee.batch(()=>Promise.all(e.map(n=>n.continue().catch(Me))))}},$t=new WeakMap,vt=new WeakMap,ls=new WeakMap,oh);function zs(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Sd(t){return{onFetch:(e,n)=>{var c,d,h,g,m;const r=e.options,i=(h=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const x=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},w=Ep(e.options,e.fetchOptions),p=async(v,k,E)=>{if(_)return Promise.reject();if(k==null&&v.pages.length)return Promise.resolve(v);const T=(()=>{const de={client:e.client,queryKey:e.queryKey,pageParam:k,direction:E?"backward":"forward",meta:e.options.meta};return x(de),de})(),R=await w(T),{maxPages:L}=e.options,N=E?Cy:Ey;return{pages:N(v.pages,R,L),pageParams:N(v.pageParams,k,L)}};if(i&&s.length){const v=i==="backward",k=v?Uy:xd,E={pages:s,pageParams:o},b=k(r,E);a=await p(E,b,v)}else{const v=t??s.length;do{const k=l===0?o[0]??r.initialPageParam:xd(r,a);if(l>0&&k==null)break;a=await p(a,k),l++}while(l<v)}return a};e.options.persister?e.fetchFn=()=>{var _,x;return(x=(_=e.options).persister)==null?void 0:x.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function xd(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Uy(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ae,on,an,Br,Wr,ln,Hr,qr,ah,Fy=(ah=class{constructor(t={}){$(this,ae);$(this,on);$(this,an);$(this,Br);$(this,Wr);$(this,ln);$(this,Hr);$(this,qr);P(this,ae,t.queryCache||new Ly),P(this,on,t.mutationCache||new $y),P(this,an,t.defaultOptions||{}),P(this,Br,new Map),P(this,Wr,new Map),P(this,ln,0)}mount(){ws(this,ln)._++,S(this,ln)===1&&(P(this,Hr,Yu.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,ae).onFocus())})),P(this,qr,Ro.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,ae).onOnline())})))}unmount(){var t,e;ws(this,ln)._--,S(this,ln)===0&&((t=S(this,Hr))==null||t.call(this),P(this,Hr,void 0),(e=S(this,qr))==null||e.call(this),P(this,qr,void 0))}isFetching(t){return S(this,ae).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return S(this,on).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,ae).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=S(this,ae).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(xn(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return S(this,ae).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=S(this,ae).get(r.queryHash),s=i==null?void 0:i.state.data,o=ky(e,s);if(o!==void 0)return S(this,ae).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ee.batch(()=>S(this,ae).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=S(this,ae).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=S(this,ae);Ee.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=S(this,ae);return Ee.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ee.batch(()=>S(this,ae).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Me).catch(Me)}invalidateQueries(t,e={}){return Ee.batch(()=>(S(this,ae).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ee.batch(()=>S(this,ae).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Me)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Me)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=S(this,ae).build(this,e);return n.isStaleByTime(xn(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Me).catch(Me)}fetchInfiniteQuery(t){return t.behavior=Sd(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Me).catch(Me)}ensureInfiniteQueryData(t){return t.behavior=Sd(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ro.isOnline()?S(this,on).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,ae)}getMutationCache(){return S(this,on)}getDefaultOptions(){return S(this,an)}setDefaultOptions(t){P(this,an,t)}setQueryDefaults(t,e){S(this,Br).set(Xi(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...S(this,Br).values()],n={};return e.forEach(r=>{Zi(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){S(this,Wr).set(Xi(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...S(this,Wr).values()],n={};return e.forEach(r=>{Zi(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...S(this,an).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Gu(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ju&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...S(this,an).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){S(this,ae).clear(),S(this,on).clear()}},ae=new WeakMap,on=new WeakMap,an=new WeakMap,Br=new WeakMap,Wr=new WeakMap,ln=new WeakMap,Hr=new WeakMap,qr=new WeakMap,ah),Fe,q,us,Ne,Vn,Vr,un,cn,cs,Kr,Qr,Kn,Qn,dn,Gr,K,xi,Dl,zl,$l,Ul,Fl,Ml,Bl,Ap,lh,My=(lh=class extends ms{constructor(e,n){super();$(this,K);$(this,Fe);$(this,q);$(this,us);$(this,Ne);$(this,Vn);$(this,Vr);$(this,un);$(this,cn);$(this,cs);$(this,Kr);$(this,Qr);$(this,Kn);$(this,Qn);$(this,dn);$(this,Gr,new Set);this.options=n,P(this,Fe,e),P(this,cn,null),P(this,un,Ll()),this.options.experimental_prefetchInRender||S(this,un).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,q).addObserver(this),kd(S(this,q),this.options)?H(this,K,xi).call(this):this.updateResult(),H(this,K,Ul).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wl(S(this,q),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wl(S(this,q),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,H(this,K,Fl).call(this),H(this,K,Ml).call(this),S(this,q).removeObserver(this)}setOptions(e){const n=this.options,r=S(this,q);if(this.options=S(this,Fe).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof it(this.options.enabled,S(this,q))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");H(this,K,Bl).call(this),S(this,q).setOptions(this.options),n._defaulted&&!Pl(this.options,n)&&S(this,Fe).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,q),observer:this});const i=this.hasListeners();i&&bd(S(this,q),r,this.options,n)&&H(this,K,xi).call(this),this.updateResult(),i&&(S(this,q)!==r||it(this.options.enabled,S(this,q))!==it(n.enabled,S(this,q))||xn(this.options.staleTime,S(this,q))!==xn(n.staleTime,S(this,q)))&&H(this,K,Dl).call(this);const s=H(this,K,zl).call(this);i&&(S(this,q)!==r||it(this.options.enabled,S(this,q))!==it(n.enabled,S(this,q))||s!==S(this,dn))&&H(this,K,$l).call(this,s)}getOptimisticResult(e){const n=S(this,Fe).getQueryCache().build(S(this,Fe),e),r=this.createResult(n,e);return Wy(this,r)&&(P(this,Ne,r),P(this,Vr,this.options),P(this,Vn,S(this,q).state)),r}getCurrentResult(){return S(this,Ne)}trackResult(e,n){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(e){S(this,Gr).add(e)}getCurrentQuery(){return S(this,q)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=S(this,Fe).defaultQueryOptions(e),r=S(this,Fe).getQueryCache().build(S(this,Fe),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return H(this,K,xi).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,Ne)))}createResult(e,n){var L;const r=S(this,q),i=this.options,s=S(this,Ne),o=S(this,Vn),a=S(this,Vr),u=e!==r?e.state:S(this,us),{state:c}=e;let d={...c},h=!1,g;if(n._optimisticResults){const N=this.hasListeners(),de=!N&&kd(e,n),Ue=N&&bd(e,r,n,i);(de||Ue)&&(d={...d,...Op(c.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:_,status:x}=d;g=d.data;let w=!1;if(n.placeholderData!==void 0&&g===void 0&&x==="pending"){let N;s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(N=s.data,w=!0):N=typeof n.placeholderData=="function"?n.placeholderData((L=S(this,Qr))==null?void 0:L.state.data,S(this,Qr)):n.placeholderData,N!==void 0&&(x="success",g=Nl(s==null?void 0:s.data,N,n),h=!0)}if(n.select&&g!==void 0&&!w)if(s&&g===(o==null?void 0:o.data)&&n.select===S(this,cs))g=S(this,Kr);else try{P(this,cs,n.select),g=n.select(g),g=Nl(s==null?void 0:s.data,g,n),P(this,Kr,g),P(this,cn,null)}catch(N){P(this,cn,N)}S(this,cn)&&(m=S(this,cn),g=S(this,Kr),_=Date.now(),x="error");const p=d.fetchStatus==="fetching",v=x==="pending",k=x==="error",E=v&&p,b=g!==void 0,R={status:x,fetchStatus:d.fetchStatus,isPending:v,isSuccess:x==="success",isError:k,isInitialLoading:E,isLoading:E,data:g,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:_,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!v,isLoadingError:k&&!b,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:k&&b,isStale:Xu(e,n),refetch:this.refetch,promise:S(this,un),isEnabled:it(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const N=tt=>{R.status==="error"?tt.reject(R.error):R.data!==void 0&&tt.resolve(R.data)},de=()=>{const tt=P(this,un,R.promise=Ll());N(tt)},Ue=S(this,un);switch(Ue.status){case"pending":e.queryHash===r.queryHash&&N(Ue);break;case"fulfilled":(R.status==="error"||R.data!==Ue.value)&&de();break;case"rejected":(R.status!=="error"||R.error!==Ue.reason)&&de();break}}return R}updateResult(){const e=S(this,Ne),n=this.createResult(S(this,q),this.options);if(P(this,Vn,S(this,q).state),P(this,Vr,this.options),S(this,Vn).data!==void 0&&P(this,Qr,S(this,q)),Pl(n,e))return;P(this,Ne,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!S(this,Gr).size)return!0;const o=new Set(s??S(this,Gr));return this.options.throwOnError&&o.add("error"),Object.keys(S(this,Ne)).some(a=>{const l=a;return S(this,Ne)[l]!==e[l]&&o.has(l)})};H(this,K,Ap).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&H(this,K,Ul).call(this)}},Fe=new WeakMap,q=new WeakMap,us=new WeakMap,Ne=new WeakMap,Vn=new WeakMap,Vr=new WeakMap,un=new WeakMap,cn=new WeakMap,cs=new WeakMap,Kr=new WeakMap,Qr=new WeakMap,Kn=new WeakMap,Qn=new WeakMap,dn=new WeakMap,Gr=new WeakMap,K=new WeakSet,xi=function(e){H(this,K,Bl).call(this);let n=S(this,q).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Me)),n},Dl=function(){H(this,K,Fl).call(this);const e=xn(this.options.staleTime,S(this,q));if(nr||S(this,Ne).isStale||!Al(e))return;const r=kp(S(this,Ne).dataUpdatedAt,e)+1;P(this,Kn,setTimeout(()=>{S(this,Ne).isStale||this.updateResult()},r))},zl=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,q)):this.options.refetchInterval)??!1},$l=function(e){H(this,K,Ml).call(this),P(this,dn,e),!(nr||it(this.options.enabled,S(this,q))===!1||!Al(S(this,dn))||S(this,dn)===0)&&P(this,Qn,setInterval(()=>{(this.options.refetchIntervalInBackground||Yu.isFocused())&&H(this,K,xi).call(this)},S(this,dn)))},Ul=function(){H(this,K,Dl).call(this),H(this,K,$l).call(this,H(this,K,zl).call(this))},Fl=function(){S(this,Kn)&&(clearTimeout(S(this,Kn)),P(this,Kn,void 0))},Ml=function(){S(this,Qn)&&(clearInterval(S(this,Qn)),P(this,Qn,void 0))},Bl=function(){const e=S(this,Fe).getQueryCache().build(S(this,Fe),this.options);if(e===S(this,q))return;const n=S(this,q);P(this,q,e),P(this,us,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Ap=function(e){Ee.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(S(this,Ne))}),S(this,Fe).getQueryCache().notify({query:S(this,q),type:"observerResultsUpdated"})})},lh);function By(t,e){return it(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function kd(t,e){return By(t,e)||t.state.data!==void 0&&Wl(t,e,e.refetchOnMount)}function Wl(t,e,n){if(it(e.enabled,t)!==!1&&xn(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Xu(t,e)}return!1}function bd(t,e,n,r){return(t!==e||it(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Xu(t,n)}function Xu(t,e){return it(e.enabled,t)!==!1&&t.isStaleByTime(xn(e.staleTime,t))}function Wy(t,e){return!Pl(t.getCurrentResult(),e)}var Pp=W.createContext(void 0),Hy=t=>{const e=W.useContext(Pp);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},qy=({client:t,children:e})=>(W.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(Pp.Provider,{value:t,children:e})),Ip=W.createContext(!1),Vy=()=>W.useContext(Ip);Ip.Provider;function Ky(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Qy=W.createContext(Ky()),Gy=()=>W.useContext(Qy),Jy=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Yy=t=>{W.useEffect(()=>{t.clearReset()},[t])},Xy=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||Ty(n,[t.error,r])),Zy=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},ev=(t,e)=>t.isLoading&&t.isFetching&&!e,tv=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Ed=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function nv(t,e,n){var d,h,g,m,_;const r=Vy(),i=Gy(),s=Hy(),o=s.defaultQueryOptions(t);(h=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",Zy(o),Jy(o,i),Yy(i);const a=!s.getQueryCache().get(o.queryHash),[l]=W.useState(()=>new e(s,o)),u=l.getOptimisticResult(o),c=!r&&t.subscribed!==!1;if(W.useSyncExternalStore(W.useCallback(x=>{const w=c?l.subscribe(Ee.batchCalls(x)):Me;return l.updateResult(),w},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),W.useEffect(()=>{l.setOptions(o)},[o,l]),tv(o,u))throw Ed(o,l,i);if(Xy({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((m=(g=s.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||m.call(g,o,u),o.experimental_prefetchInRender&&!nr&&ev(u,r)){const x=a?Ed(o,l,i):(_=s.getQueryCache().get(o.queryHash))==null?void 0:_.promise;x==null||x.catch(Me).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function Qo(t,e){return nv(t,My)}const Np="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAABTCAYAAADA4P+5AAAACXBIWXMAAA7EAAAOxAGVKw4bAAANpklEQVR4nO3de4xdVRXH8e86cykVJ+PYNNhUYhokSIxWgmiwYCEqL8tDiCBKQDCEasOrlDI0WBoCBcq7CqYgKBJB5Q8CCFJ5Ka9aq0FtlGAlxSA2tal1nNRS2jv35x/7DJR2ZjqPc/Y+9971Se4/TTNrtXPvvme/1jIqSNJkYDKwN7A/8BFgGjAl/7MuYCKQJUoxhRrx/70TgOvNbEHkuG6cJHUBiwifk0bidNrFVkudgaRuYB/g08AngQOAqfmrK2FqLugDjjWzFakTcSMnaQrwGmFAdXH01WJHlJQB+wJfAA4FDgb2IzyBuerpAm6RdKSZ9aVOxo1KPXUCbaYebRCTtB9wDHA8cAj+9NlMPg1cAFydOhHnqqzUKb+kiYQn0bOBmYR1Udec+oAjzWxV6kTc7uVT/r8BnalzaSObSnlCzRfEvwzMJjzduOY3MPU/2sw2p07GuSoqdNdY0gRJXwOeBe7GB9NWMwO4KHUSzlVVYQOqpJnAk8B9wIFF/VxXOT2SDkmdhHNVNO4BVdIkSdcCjxPWSV1r6wSWSNordSLOVc24BtT8SeUx4DLAP2DtYybQkzoJ56pmTAOqpEzSuYSnUp/+taeLferv3LuNekDNj0J9F7gD6C48I9csOoGb8hMdzjlGOaDmd+x/AswpJx3XZGYA81In4VxVjHhAze/c3w18qbx0XBO6QJIfj3OOEQ6o+Y7uD4ETyk3HNaFu4IZ8Kci5trbbAVVSjbBm6k+mbigzgUtSJ+FcaiN5Ql0EfKPsRFzT65F0cOoknEtp2AFV0gnApZFycc3ND/y7tjfkgCppGrCUULXduZH4HD71d21s0AFVddWAJYS2I86Nxjyf+rt2NWg9VEmnEYqcVLln0za8V85ITCD+7/EFQtsUL/OXiKSpwD+o9me41ezaUyo/vP88obdTFWwB1gKrgb8ArwO9wGZCiwcfVId3AHA78XsLLTQzr/CfiKROQpeFPVPn0kbe3OVPJF2q9P4r6TFJF0iaLsnXccdB0tIEv8P/SDoo9b/duWQkTZX0zwQfvgGvSbpC0v6p/y9aiUKJxT8k+H0+K9/1d+1K0iUJPnSS9G9JVyms+7gSSPqcpDcT/G792J1rG2+voSpUDfodEPvp8Blgnpn9MXLctqNQCPyyyGF7CRtUKyPHbWvn3nFH9sb2TYcpy7pMKnyfQWZZR2Ybp9r7Vt05e7bvY+R2bNJ3AvEH01sJmxe+GxzHYsJZ0ZjFTLoJzf2O9N9zPOs7eveq17m9n8bH1Ch+vLNaB9n2+soPvnfi4YQTN478SIWkDDgpYtw60GNmc/1DFk/+fz2fcHIipkOA8yLHbHsSDUmU9sL8yXQnA2fUpgJHRIx7pZldHzGey5nZc4SZQWwL5Af+XYsbmPIfBkyKFPMHwDWRYrnBXUv4ncdsqthFqPB/tJltjRj3XRROHUyiNc8vbzQzn34nNDCgHh0p3mpgvplPFVIys82S5hHafsdsYzMTuAi4LmLMtymcZ/4RYQ251d6DDeArwO9jBr3izDMbi77x9ZghK83yb+zngbIPYdeB481seclx3AhJuhi4KXLYPuDzZhb1gw/h0gqhRkWrOjxf0uGEu5Z0vrm18WK/abr6S9iUMkMNbezIas80UD2zQW+xl0eNrVPe073wx+fMWRc38PBqhPXTfSPE+gX9PBUhjhu5ZcAsws5/LF2EMn+zYk79Jc0ALo8VL4GoT9ySsMwmq2anGoYixrbMaGyt19/a9lblvhxrhMG07GlfA1hqNauXHMeNgpltkTQX+BXx1tAhDODnATfGCJafsV5KGMxdQSSh7dujxzUzZGzec8KelTshlAExdl5XAisixHGjZGargSsThL484q7/IuK8z12by4BPRIjzcMqdXbdby4DYa9vdhF3/zjKDSDoGPwPbkj7w/s7KzXgzyl8/rROeUF1F5Udt5gKxF/gHdv1LIWkK3nWiNYm69U+s3BGxjLApVaZe4JWSY7hxMrNXgIUJQs9VeWX+riL+dWrXxjLKX6hfD2wqOYYrxj3Ag5FjTiJM/QstgK3QdcK79bai/ITWmr7XKjnlr+32b43POlrvEHVLyi9czAfeiBz6CEJ1+UIoNJhcgrf/aGnbNlfv1FCMN9wWvxnVPMxsLbAgQegFkg4c7w/Jb0PdBHxo/Cm5CqvcYAphQC278pA/JTSf+4EfR47ZDSzV+Cv8nwecXEA+rrKMLOuo7IDaV3KMrrw8oGsS+YzickJDxJjGtesvaTqtfRvK5Syr7hNq2R+aD1H+Oq0rmJm9DvQQf/27Zyy7/vmm1neJe+PLJfSZrg9UbikxA14tOcZkyj+a5UpgZj8lTP9jGijzN9qp/6XELUfoEjJVs0tABvyp5BidwPSSY7jy9ABrIsc8glHcbpI0k3A6wbmkMuClCDEOLTmGK4mZrSMMVrGfCHpGsusvqZuwq1/qFVZXLWZs++ue/0udxi4ywpnD9SXHOTl/47smZGaPEDotxDTSA/9e+KTdGKhR3U2pdcDakuPshx9laXaLgD9HjjlQ5m9Qkk4G5sRLx72LQVbrSPCqoUZ/rW/Nvyq3KVUzs22S/gjMKDnW+ZIe8C6nzcnMNkiaDzxM3GIjCyQ9kZcZfJukfQhTfS98koCZIalX9cYqWQl9qoeL3WhkWag9UTkDx5l+Sfnf9AcC5wI3lxzHlcTMlku6Dbg4YthJwA2SThwoAZmfa74BmBYxD7ejjoyOfr18yoSPz5o9+/hKTr9TGDhwv4ry11EhbDR8LEIcV57FxJ/6H8W77/p/DTgtcg5Vl5HgVuL6PTb5pZ0d1ADMbL2k54BTS463N3BH3k+ot+RYrgRmtknShcDPgfFeEx2NBZIeBbYSv9HeOuDvVPsadYNQKtMltOMNpp9R/oAKYa32bklnmFnZdQRcCczsGUk3AldEDNtNuAlVJ+5FkT5Ce+ZVVHtAhfhH29xOdhxQnyBM5WJMyU8GMkmzzWxDhHiueDcQpuKHRIwZszvrgMVm9kKCuK4Jvf2Nm+++3x0x9peAJyXF/EC6guTvl7m09jRzOfCd1EmMw8Rsjz0o62VYzCWfprBz0ZIHCLdiYk2ppgOPS1oMLPMjVc3FzFZKuoU0XVPLthGY36zNJbdttrqyxvL++vZXqPcXH0AddMDLU7ZPqtxZ0EqR9G2l8TtJp2r89TBdRJI6JT2f6D1TpnNT/9+65mM7/4FCp8gXKb8b6lBeAu4DHgVe9Wr/1SfpYOBpyu9PFsv9wBn+3nOjtcuACiDpHOD7kXPZWS9hcF0JPE/onNpLaKniu5kVI+lS4h9nKsPfgc+aWey+Wq4FDDWgTiRcMTwqbjrD2sI7hVw2AZupaF+ZEv3EzJ5IncRg8vfMY6TZiS/KNuCUvBhMU1O4TbYfUGg3WTes3kEHVGjJaVwrWEt4elqXOpHBKJTbe5rmrZq/zMy+lTqJIkjqJPwu/GZiPA8NOaACSLoIuCVSMm5k7gXOrur6nqQ5wO2p8xiD1cCRrXIuOh9Qf4MPqDE9NPzNj35uIxylctVxJnBW6iSGcRfwi9RJjNJWYG6rDKY7qOSXbgvba9gB1WpWB84nXLtz1bFY0v6pkxhMvmE4l3D/vVncbGbPpE7CNb/d3k3Ov7XPIOx+umqYAtyi3VezT8LM1gALU+cxQi8A16ZOwrWGERV7yD8gpwOtNiVqZl8EzkmdxJD6uRd4MHUau9ELzPMbeq4oI66eY2YrgK/ig2qVLNIYetjHkC8XzafaU/+FZubLWa4woypHlq8znQK8Xk46bpQmE6b+lbyua2Zrgcup5ubII8CdqZNwrWXU9R3N7DngeHyjqipmErclyWjdm7+q5A3CVN9v3LlCjalgbt4w7SSqv0bWLnokzUydxGDy87ILqc6mZoMw1X81dSKu9Yy5Anl+W+cUwjpZX2EZubHoBJZK6k6dyGDye/HzqcZV4fvN7J7USbiWVBtXSwcza5jZjcAsYEUxObkxOpBq1yV9kPRT/1eBnsQ5uNY1sZAeOXmLiGMJU7uNRfxMNybflHRc6iQGs8PUP1U/9S3A+VWtg+BaQ2FNx8ysz8yuBg4F7sEbhqUwAbhJUswmdiOWD2bnEwa32HrMbHmCuK6NFN7F0czWmNnZwNHAQ/jAGtv+wFWpkxiKmT1F/FtUt5rZbZFjujZUWltcM/u1mZ0EHE54Yl1fViy3i7MknZY6iaGY2c3ANZHC3QbMixTLtbnS+4yb2cr8ifUzwIWEu9MppnztJAOWSJqWOpFhLMxfZR36bwDX0c/cqpY6dK1n2HqoZcgriR9EqOw+C/go4caPK94DwOlmVoXjSoPK66cuIRz9Kspmwprp9wr8mU0lr4f6IqGzsItjRfQBdWeS9iUMsJ8CZhAG2E7CBosbvwvNrNK95SUdRihkfnABP24Vof3zcwX8rKblA2oS6QfUHUmqEdpnHECoNP5hYCqhXN0kQjuWLkKfnFr+csPbQKhE/+fUiQxH0iRgDnA2Y+u4u5bQWHKZmfUWmVszygfU3xIeUFwcL1VqQB2KpAmEQXQC7wykGRHWgFtADdhgZk1xm03SZOA44ETCl+o0Bv/irBOus75MaCj5iJn5GehcXjDnPsKpDxfH6qYYUF17krQ3YXayN2FmMvAF2kc4NbLBzPz0yBDyq8j+0BHP1v8DjlOaQjbOA9QAAAAASUVORK5CYII=";function Go(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const iv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Zu extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class sv extends Zu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Cd extends Zu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Td extends Zu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Hl||(Hl={}));class ov{constructor(e,{headers:n={},customFetch:r,region:i=Hl.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=iv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return rv(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:g}=r;g||(g=this.region);const m=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let _;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(h["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(h["Content-Type"]="application/json",_=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?_=JSON.stringify(u):_=u;let x=c;d&&(o=new AbortController,s=setTimeout(()=>o.abort(),d),c?(x=o.signal,c.addEventListener("abort",()=>o.abort())):x=o.signal);const w=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:_,signal:x}).catch(E=>{throw new sv(E)}),p=w.headers.get("x-relay-error");if(p&&p==="true")throw new Cd(w);if(!w.ok)throw new Td(w);let v=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return v==="application/json"?k=yield w.json():v==="application/octet-stream"||v==="application/pdf"?k=yield w.blob():v==="text/event-stream"?k=w:v==="multipart/form-data"?k=yield w.formData():k=yield w.text(),{data:k,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Td||a instanceof Cd?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var av=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},lv=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,a=null,l=null,u=s.status,c=s.statusText;if(s.ok){var d,h;if(n.method!=="HEAD"){var g;const w=await s.text();w===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?a=w:a=JSON.parse(w))}const _=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),x=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var m;const _=await s.text();try{o=JSON.parse(_),Array.isArray(o)&&s.status===404&&(a=[],o=null,u=200,c="OK")}catch{s.status===404&&_===""?(u=204,c="No Content"):o={message:_}}if(o&&n.isMaybeSingle&&(!(o==null||(m=o.details)===null||m===void 0)&&m.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new av(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let a="",l="",u="";const c=s==null?void 0:s.cause;if(c){var d,h,g,m;const w=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",p=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";a=`${(g=s==null?void 0:s.name)!==null&&g!==void 0?g:"FetchError"}: ${s==null?void 0:s.message}`,a+=`

Caused by: ${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"Error"}: ${w}`,p&&(a+=` (${p})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var _;a=(_=s==null?void 0:s.stack)!==null&&_!==void 0?_:""}const x=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",x>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${x} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",x>this.urlLengthLimit&&(l+=`. Your request URL is ${x} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:a,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},uv=class extends lv{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Rd=new RegExp("[,()]");var gr=class extends uv{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Rd.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Rd.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},cv=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),r&&l.append("Prefer",`count=${r}`),new gr({method:i,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),n||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);s.searchParams.set("columns",l.join(","))}}return new gr({method:i,url:s,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);a.searchParams.set("columns",c.join(","))}}return new gr({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new gr({method:r,url:i,headers:s,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new gr({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function dv(t,e){if(es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hv(t){var e=dv(t,"string");return es(e)=="symbol"?e:e+""}function fv(t,e,n){return(e=hv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jd(Object(n),!0).forEach(function(r){fv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var pv=class Lp{constructor(e,{headers:n={},schema:r,fetch:i,timeout:s,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=o;const a=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,u)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),s),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(d),a(l,u);const g=()=>{clearTimeout(d),c.abort()};return h.addEventListener("abort",g,{once:!0}),a(l,$s($s({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",g)})}return a(l,$s($s({},u),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new cv(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Lp(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(c)),d=r&&Object.values(n).some(c);d?(a="POST",u=n):r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{l.searchParams.append(g,m)})):(a="POST",u=n);const h=new Headers(this.headers);return d?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new gr({method:a,url:l,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class gv{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const mv="2.95.3",yv=`realtime-js/${mv}`,vv="1.0.0",Dp="2.0.0",Od=Dp,ql=1e4,wv=1e3,_v=100;var Zt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zt||(Zt={}));var me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(me||(me={}));var _t;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_t||(_t={}));var Vl;(function(t){t.websocket="websocket"})(Vl||(Vl={}));var Nn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Nn||(Nn={}));class Sv{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var i,s;const o=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,g=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(g),_=0;m.setUint8(_++,this.KINDS.userBroadcastPush),m.setUint8(_++,l.length),m.setUint8(_++,a.length),m.setUint8(_++,o.length),m.setUint8(_++,u.length),m.setUint8(_++,d.length),m.setUint8(_++,n),Array.from(l,w=>m.setUint8(_++,w.charCodeAt(0))),Array.from(a,w=>m.setUint8(_++,w.charCodeAt(0))),Array.from(o,w=>m.setUint8(_++,w.charCodeAt(0))),Array.from(u,w=>m.setUint8(_++,w.charCodeAt(0))),Array.from(d,w=>m.setUint8(_++,w.charCodeAt(0)));var x=new Uint8Array(g.byteLength+r.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(r),g.byteLength),x.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,o,a,l]=r;return n({join_ref:i,ref:s,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),g=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,m={type:this.BROADCAST_EVENT,event:c,payload:g};return o>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class zp{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const Ad=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=xv(o,t,e,i),s),{}):{}},xv=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?$p(s,o):Kl(o)},$p=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Cv(e,n)}switch(t){case G.bool:return kv(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return bv(e);case G.json:case G.jsonb:return Ev(e);case G.timestamp:return Tv(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Kl(e);default:return Kl(e)}},Kl=t=>t,kv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ev=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Cv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>$p(e,a))}return t},Tv=t=>typeof t=="string"?t.replace(" ","T"):t,Up=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Aa{constructor(e,n,r={},i=ql){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pd;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pd||(Pd={}));class Ii{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ii.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Ii.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ii.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const h=c.map(x=>x.presence_ref),g=d.map(x=>x.presence_ref),m=c.filter(x=>g.indexOf(x.presence_ref)<0),_=d.filter(x=>h.indexOf(x.presence_ref)<0);m.length>0&&(a[u]=m),_.length>0&&(l[u]=_)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(g=>g.presence_ref),h=c.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Id;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Id||(Id={}));var Ni;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ni||(Ni={}));var Dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class Or{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Aa(this,_t.join,this.params,this.timeout),this.rejoinTimer=new zp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=me.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_t.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ii(this),this.broadcastEndpointURL=Up(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==me.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ni.PRESENCE]&&this.bindings[Ni.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(Dt.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Dt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(Dt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(m=_==null?void 0:_.length)!==null&&m!==void 0?m:0,w=[];for(let p=0;p<x;p++){const v=_[p],{filter:{event:k,schema:E,table:b,filter:T}}=v,R=g&&g[p];if(R&&R.event===k&&Or.isFilterValueEqual(R.schema,E)&&Or.isFilterValueEqual(R.table,b)&&Or.isFilterValueEqual(R.filter,T))w.push(Object.assign(Object.assign({},v),{id:R.id}));else{this.unsubscribe(),this.state=me.errored,e==null||e(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Dt.SUBSCRIBED);return}}).receive("error",g=>{this.state=me.errored,e==null||e(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===me.joined&&e===Ni.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=me.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_t.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Aa(this,_t.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=me.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Aa(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_v){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=_t;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var m,_,x;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(_=g.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var m,_,x,w,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,E=(m=g.filter)===null||m===void 0?void 0:m.event;return k&&((_=n.ids)===null||_===void 0?void 0:_.includes(k))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const k=(p=(w=g==null?void 0:g.filter)===null||w===void 0?void 0:w.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:_,table:x,commit_timestamp:w,type:p,errors:v}=m;h=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:w,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(m))}g.callback(h,r)})}_isClosed(){return this.state===me.closed}_isJoined(){return this.state===me.joined}_isJoining(){return this.state===me.joining}_isLeaving(){return this.state===me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Or.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_t.close,{},e)}_onError(e){this._on(_t.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Ad(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Ad(e.columns,e.old_record)),n}}const Pa=()=>{},Us={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Rv=[1e3,2e3,5e3,1e4],jv=1e4,Ov=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Av{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ql,this.transport=null,this.heartbeatIntervalMs=Us.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pa,this.ref=0,this.reconnectTimer=null,this.vsn=Od,this.logger=Pa,this.conn=null,this.sendBuffer=[],this.serializer=new Sv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Vl.websocket}`,this.httpEndpoint=Up(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gv.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zt.connecting:return Nn.Connecting;case Zt.open:return Nn.Open;case Zt.closing:return Nn.Closing;default:return Nn.Closed}}isConnected(){return this.connectionState()===Nn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new Or(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Us.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Zt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zt.open||this.conn.readyState===Zt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(_t.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ov],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:yv};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(_t.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new zp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Us.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,u,c,d,h,g;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ql,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Us.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Pa,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Od,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:m=>Rv[m-1]||jv,this.vsn){case vv:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(m,_)=>_(JSON.stringify(m)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(m,_)=>_(JSON.parse(m));break;case Dp:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ts=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Pv(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function Iv(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Nv(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:o}){const a=Pv(t.baseUrl,r,i),l=await Iv(t.auth),u=await e(a,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...o},body:s?JSON.stringify(s):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const g=d?h:void 0,m=g==null?void 0:g.error;throw new ts((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:g})}return{status:u.status,headers:u.headers,data:h}}}}function Fs(t){return t.join("")}var Lv=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Fs(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fs(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fs(t.namespace)}`}),!0}catch(e){if(e instanceof ts&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof ts&&n.status===409)return;throw n}}};function ur(t){return t.join("")}var Dv=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ur(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ur(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ur(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ur(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ur(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ur(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof ts&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof ts&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},zv=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Nv({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Lv(this.client,e),this.tableOps=new Dv(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Jo=class extends Error{constructor(t,e="storage",n,r){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Yo(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Ms=class extends Jo{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fp=class extends Jo{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const $v=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Uv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ql=t=>{if(Array.isArray(t))return t.map(n=>Ql(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Ql(r)}),e},Fv=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ns(t){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(t)}function Mv(t,e){if(ns(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bv(t){var e=Mv(t,"string");return ns(e)=="symbol"?e:e+""}function Wv(t,e,n){return(e=Bv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nd(Object(n),!0).forEach(function(r){Wv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Ld=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Hv=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Ms(Ld(o),s,a,r))}).catch(()=>{if(r==="vectors"){const o=s+"";e(new Ms(i.statusText||`HTTP ${s} error`,s,o,r))}else{const o=s+"";e(new Ms(i.statusText||`HTTP ${s} error`,s,o,r))}});else{const o=s+"";e(new Ms(i.statusText||`HTTP ${s} error`,s,o,r))}}else e(new Fp(Ld(t),t,r))},qv=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!r?z(z({},i),n):(Uv(r)?(i.headers=z({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),z(z({},i),n))};async function yi(t,e,n,r,i,s,o){return new Promise((a,l)=>{t(n,qv(e,r,i,s)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>Hv(u,l,r,o))})}function Mp(t="storage"){return{get:async(e,n,r,i)=>yi(e,"GET",n,r,i,void 0,t),post:async(e,n,r,i,s)=>yi(e,"POST",n,i,s,r,t),put:async(e,n,r,i,s)=>yi(e,"PUT",n,i,s,r,t),head:async(e,n,r,i)=>yi(e,"HEAD",n,z(z({},r),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,n,r,i,s)=>yi(e,"DELETE",n,i,s,r,t)}}const Vv=Mp("storage"),{get:rs,post:mt,put:Gl,head:Kv,remove:ec}=Vv,Ge=Mp("vectors");var oi=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=$v(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Yo(n))return{data:null,error:n};throw n}}},Qv=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Yo(e))return{data:null,error:e};throw e}}};let Bp;Bp=Symbol.toStringTag;var Gv=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Bp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qv(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Yo(e))return{data:null,error:e};throw e}}};const Jv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Yv=class extends oi{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var i=this;return i.handleOperation(async()=>{let s;const o=z(z({},Dd),r);let a=z(z({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(a=z(z({},a),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),d=await(t=="PUT"?Gl:mt)(i.fetch,`${i.url}/object/${c}`,s,z({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const s=i._removeEmptyFolders(t),o=i._getFinalPath(s),a=new URL(i.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),i.handleOperation(async()=>{let l;const u=z({upsert:Dd.upsert},r),c=z(z({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:s,fullPath:(await Gl(i.fetch,a.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const i=z({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await mt(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+s.url),a=o.searchParams.get("token");if(!a)throw new Jo("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await mt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await mt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(t),s=await mt(r.fetch,`${r.url}/object/sign/${i}`,z({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${o}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const i=await mt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(o=>z(z({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${s}`):null}))})}download(t,e,n){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),a=()=>rs(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0},n);return new Gv(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>Ql(await rs(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await Kv(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Yo(r)&&r instanceof Fp){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await ec(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const i=z(z(z({},Jv),e),{},{prefix:t||""});return await mt(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=z({},t);return await mt(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Xv="2.95.3",ys={"X-Client-Info":`storage-js/${Xv}`};var Zv=class extends oi{constructor(t,e={},n,r){const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=z(z({},ys),e);super(s,o,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await rs(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await rs(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await mt(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await Gl(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await mt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ec(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},e0=class extends oi{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=z(z({},ys),e);super(r,i,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await mt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await rs(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ec(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Fv(t))throw new Jo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new zv({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},t0=class extends oi{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=z(z({},ys),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await Ge.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await Ge.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},n0=class extends oi{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=z(z({},ys),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},r0=class extends oi{constructor(t,e={},n){const r=t.replace(/\/$/,""),i=z(z({},ys),{},{"Content-Type":"application/json"},e);super(r,i,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Ge.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},i0=class extends r0{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new s0(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},s0=class extends t0{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,z(z({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,z(z({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new o0(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},o0=class extends n0{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,z(z({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,z(z({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,z(z({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,z(z({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,z(z({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},a0=class extends Zv{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new Yv(this.url,this.headers,t,this.fetch)}get vectors(){return new i0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new e0(this.url+"/iceberg",this.headers,this.fetch)}};const Wp="2.95.3",mr=30*1e3,Jl=3,Ia=Jl*mr,l0="http://localhost:9999",u0="supabase.auth.token",c0={"X-Client-Info":`gotrue-js/${Wp}`},Yl="X-Supabase-Api-Version",Hp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h0=10*60*1e3;class is extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class f0 extends is{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function p0(t){return I(t)&&t.name==="AuthApiError"}class Ln extends is{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Kt extends is{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Ke extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Na(t){return I(t)&&t.name==="AuthSessionMissingError"}class cr extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bs extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ws extends Kt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g0(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class zd extends Kt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class m0 extends Kt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Xl extends Kt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function La(t){return I(t)&&t.name==="AuthRetryableFetchError"}class $d extends Kt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Zl extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ud=` 	
\r=`.split(""),y0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ud.length;e+=1)t[Ud[e].charCodeAt(0)]=-2;for(let e=0;e<jo.length;e+=1)t[jo[e].charCodeAt(0)]=e;return t})();function Fd(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(jo[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(jo[r]),e.queuedBits-=6}}function qp(t,e,n){const r=y0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Md(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{_0(o,r,n)};for(let o=0;o<t.length;o+=1)qp(t.charCodeAt(o),i,s);return e.join("")}function v0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function w0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}v0(r,e)}}function _0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function zr(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)qp(t.charCodeAt(i),n,r);return new Uint8Array(e)}function S0(t){const e=[];return w0(t,n=>e.push(n)),new Uint8Array(e)}function Un(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>Fd(i,n,r)),Fd(null,n,r),e.join("")}function x0(t){return Math.round(Date.now()/1e3)+t}function k0(){return Symbol("auth-callback")}const ke=()=>typeof window<"u"&&typeof document<"u",jn={tested:!1,writable:!1},Vp=()=>{if(!ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jn.tested)return jn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),jn.tested=!0,jn.writable=!0}catch{jn.tested=!0,jn.writable=!1}return jn.writable};function b0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Kp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),E0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},On=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xe=async(t,e)=>{await t.removeItem(e)};class Xo{constructor(){this.promise=new Xo.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Xo.promiseConstructor=Promise;function Hs(t){const e=t.split(".");if(e.length!==3)throw new Zl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!d0.test(e[r]))throw new Zl("JWT not in base64url format");return{header:JSON.parse(Md(e[0])),payload:JSON.parse(Md(e[1])),signature:zr(e[2]),raw:{header:e[0],payload:e[1]}}}async function C0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function T0(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function R0(t){return("0"+t.toString(16)).substr(-2)}function j0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,R0).join("")}async function O0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function A0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await O0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dr(t,e,n=!1){const r=j0();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await yr(t,`${e}-code-verifier`,i);const s=await A0(r);return[s,r===s?"plain":"s256"]}const P0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I0(t){const e=t.headers.get(Yl);if(!e||!e.match(P0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function N0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function L0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hr(t){if(!D0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Da(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function z0(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function Bd(t){return JSON.parse(JSON.stringify(t))}const In=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$0=[502,503,504];async function Wd(t){var e;if(!E0(t))throw new Xl(In(t),0);if($0.includes(t.status))throw new Xl(In(t),t.status);let n;try{n=await t.json()}catch(s){throw new Ln(In(s),s)}let r;const i=I0(t);if(i&&i.getTime()>=Hp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $d(In(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ke}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new $d(In(n),t.status,n.weak_password.reasons);throw new f0(In(n),t.status||500,r)}const U0=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function D(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Yl]||(s[Yl]=Hp["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await F0(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function F0(t,e,n,r,i,s){const o=U0(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Xl(In(l),0)}if(a.ok||await Wd(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Wd(l)}}function pt(t){var e;let n=null;W0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=x0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hd(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function nn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function M0(t){return{data:t,error:null}}function B0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=Go(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function qd(t){return t}function W0(t){return t.access_token&&t.refresh_token&&t.expires_in}const za=["global","local","others"];class H0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Kp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=za[0]){if(za.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${za.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:nn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Go(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:B0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:nn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qd});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){hr(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:nn})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hr(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:nn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){hr(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:nn})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){hr(e.userId);try{const{data:n,error:r}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hr(e.userId),hr(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qd});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}}function Vd(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const fr={debug:!!(globalThis&&Vp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class q0 extends Qp{}async function V0(t,e,n){fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new q0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fr.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function K0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gp(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Q0(t){return parseInt(t,16)}function G0(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function J0(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=Gp(t.address),m=c?`${c}://${r}`:r,_=t.statement?`${t.statement}
`:"",x=`${m} wants you to sign in with your Ethereum account:
${g}

${_}`;let w=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}w+=p}return`${x}
${w}`}class pe extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Oo extends pe{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Y0({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new pe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new pe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new pe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new pe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new pe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new pe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new pe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Jp(o)){if(s.rp.id!==o)return new pe({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new pe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new pe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function X0({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new pe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Jp(r)){if(n.rpId!==r)return new pe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new pe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Z0{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ew=new Z0;function tw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Go(t,["challenge","user","excludeCredentials"]),s=zr(e).buffer,o=Object.assign(Object.assign({},n),{id:zr(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:zr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function nw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Go(t,["challenge","allowCredentials"]),i=zr(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:zr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function rw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Un(new Uint8Array(t.response.attestationObject)),clientDataJSON:Un(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Un(new Uint8Array(i.authenticatorData)),clientDataJSON:Un(new Uint8Array(i.clientDataJSON)),signature:Un(new Uint8Array(i.signature)),userHandle:i.userHandle?Un(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Kd(){var t,e;return!!(ke()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function sw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oo("Browser returned unexpected credential type",e)}:{data:null,error:new Oo("Empty credential response",e)}}catch(e){return{data:null,error:Y0({error:e,options:t})}}}async function ow(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oo("Browser returned unexpected credential type",e)}:{data:null,error:new Oo("Empty credential response",e)}}catch(e){return{data:null,error:X0({error:e,options:t})}}}const aw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ao(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const a=r[s];e(a)?r[s]=Ao(a,o):r[s]=Ao(o)}else r[s]=o}return r}function uw(t,e){return Ao(aw,t,e||{})}function cw(t,e){return Ao(lw,t,e||{})}class dw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:l};const u=i??ew.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const d=r;if(d)c.name=`${c.id}:${d}`;else{const g=(await this.client.getUser()).data.user,m=((o=g==null?void 0:g.user_metadata)===null||o===void 0?void 0:o.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";c.name=`${c.id}:${m}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=uw(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:h}=await sw({publicKey:c,signal:u});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=cw(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:h}=await ow(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new Ln("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new is("rpId is required for WebAuthn authentication")};try{if(!Kd())return{data:null,error:new Ln("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Ln("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new is("rpId is required for WebAuthn registration")};try{if(!Kd())return{data:null,error:new Ln("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Ln("Unexpected error in register",o)}}}}K0();const hw={url:l0,storageKey:u0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:c0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Qd(t,e,n){return await n()}const pr={};class ss{get jwks(){var e,n;return(n=(e=pr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){pr[this.storageKey]=Object.assign(Object.assign({},pr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=pr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pr[this.storageKey]=Object.assign(Object.assign({},pr[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},hw),e);if(this.storageKey=s.storageKey,this.instanceID=(n=ss.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ss.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ke()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new H0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kp(s.fetch),this.lock=s.lock||Qd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&ke()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=V0:this.lock=Qd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Vp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Vd(this.memoryStorage)),ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ke()&&(n=b0(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ke()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),g0(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?this._returnResult({error:n}):this._returnResult({error:new Ln("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:pt}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:c,password:d,options:h}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await dr(this.storage,this.storageKey)),s=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:m},xform:pt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;s=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pt})}else throw new Bs("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await xe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hd})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hd})}else throw new Bs("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new cr;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,a,l,u,c,d,h;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:_,wallet:x,statement:w,options:p}=e;let v;if(ke())if(typeof x=="object")v=x;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")v=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const k=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),E=await v.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Gp(E[0]);let T=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const L=await v.request({method:"eth_chainId"});T=Q0(L)}const R={domain:k.host,address:b,statement:w,uri:k.href,version:"1",chainId:T,nonce:(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};g=J0(R),m=await v.request({method:"personal_sign",params:[G0(g),b]})}try{const{data:_,error:x}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:pt});if(x)throw x;if(!_||!_.session||!_.user){const w=new cr;return this._returnResult({data:{user:null,session:null},error:w})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:x})}catch(_){if(I(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var n,r,i,s,o,a,l,u,c,d,h,g;let m,_;if("message"in e)m=e.message,_=e.signature;else{const{chain:x,wallet:w,statement:p,options:v}=e;let k;if(ke())if(typeof w=="object")k=w;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))k=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=w}const E=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const b=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let T;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")T=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)T=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)m=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),_=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${E.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const b=await k.signMessage(new TextEncoder().encode(m),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=b}}try{const{data:x,error:w}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Un(_)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:pt});if(w)throw w;if(!x||!x.session||!x.user){const p=new cr;return this._returnResult({data:{user:null,session:null},error:p})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(I(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const n=await On(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new m0;const{data:s,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pt});if(await xe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new cr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new cr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await dr(this.storage,this.storageKey));const{error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Bs("You must provide either an email or phone number.")}catch(a){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await dr(this.storage,this.storageKey));const u=await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:M0});return!((s=u.data)===null||s===void 0)&&s.url&&ke()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ke;const{error:i}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(I(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await D(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await D(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Bs("You must provide either an email or phone number and a type")}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ia:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await On(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Da()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=z0(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:nn}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ke}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:nn})})}catch(n){if(I(n))return Na(n)&&(await this._removeSession(),await xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Ke;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await dr(this.storage,this.storageKey));const{data:u,error:c}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:nn});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ke;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Hs(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ke;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ke())throw new Ws("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ws(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new zd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ws("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zd("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new Ws("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const g=h-c;g*1e3<=mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const m=h-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,c);const{data:_,error:x}=await this._getUser(s);if(x)throw x;const w={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await On(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!Na(s))return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(p0(a)&&(a.status===404||a.status===401||a.status===403)||Na(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await xe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=k0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await dr(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:h}=s;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ke()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(I(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:pt}),{data:h,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new cr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:g}))}catch(i){if(await xe(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await T0(async i=>(i>0&&await C0(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(i,s)=>{const o=200*Math.pow(2,i);return s&&La(s)&&Date.now()+o-r<mr})}catch(r){if(this._debug(n,"error",r),I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ke()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await On(this.storage,this.storageKey);if(i&&this.userStorage){let o=await On(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await yr(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Da()}else if(i&&!i.user&&!i.user){const o=await On(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await xe(this.storage,this.storageKey+"-user"),await yr(this.storage,this.storageKey,i)):i.user=Da()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ia;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ia}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),La(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Xo;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Ke;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),I(s)){const o={data:null,error:s};return La(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await xe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await yr(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=Bd(i);await yr(this.storage,this.storageKey,s)}else{const i=Bd(n);await yr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xe(this.storage,this.storageKey),await xe(this.storage,this.storageKey+"-code-verifier"),await xe(this.storage,this.storageKey+"-user"),this.userStorage&&await xe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mr}ms, refresh threshold is ${Jl} ticks`),i<=Jl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await dr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?rw(e.webauthn.credential_response):iw(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:tw(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:nw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,i,s;if(e)try{const{payload:g}=Hs(e);let m=null;g.aal&&(m=g.aal);let _=m;const{data:{user:x},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((r=(n=x==null?void 0:x.factors)===null||n===void 0?void 0:n.filter(k=>k.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(_="aal2");const v=g.amr||[];return{data:{currentLevel:m,nextLevel:_,currentAuthenticationMethods:v},error:null}}catch(g){if(I(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Hs(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ke})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ke});const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ke()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Ke});const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ke()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await D(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ke})})}catch(e){if(I(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await D(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ke})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+h0>i)return r;const{data:s,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:g,error:m}=await this.getSession();if(m||!g.session)return this._returnResult({data:null,error:m});r=g.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Hs(r);n!=null&&n.allowExpired||N0(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:s,header:i,signature:o},error:null}}const c=L0(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,S0(`${a}.${l}`)))throw new Zl("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}}ss.nextInstanceID={};const fw=ss,pw="2.95.3";let ki="";typeof Deno<"u"?ki="deno":typeof document<"u"?ki="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ki="react-native":ki="node";const gw={"X-Client-Info":`supabase-js-${ki}/${pw}`},mw={headers:gw},yw={schema:"public"},vw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ww={};function os(t){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(t)}function _w(t,e){if(os(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sw(t){var e=_w(t,"string");return os(e)=="symbol"?e:e+""}function xw(t,e,n){return(e=Sw(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gd(Object(n),!0).forEach(function(r){xw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const kw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bw=()=>Headers,Ew=(t,e,n)=>{const r=kw(n),i=bw();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,le(le({},o),{},{headers:u}))}};function Cw(t){return t.endsWith("/")?t:t+"/"}function Tw(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:le(le({},l),i),auth:le(le({},u),s),realtime:le(le({},c),o),storage:{},global:le(le(le({},d),a),{},{headers:le(le({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Rw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var jw=class extends fw{constructor(t){super(t)}},Ow=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const s=Rw(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,a={db:yw,realtime:ww,auth:le(le({},vw),{},{storageKey:o}),global:mw},l=Tw(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Ew(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new pv(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new a0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new ov(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:o,lock:a,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jw({url:this.authUrl.href,headers:le(le({},h),c),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Av(this.realtimeUrl.href,le(le({},t),{},{params:le(le({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Aw=(t,e,n)=>new Ow(t,e,n);function Pw(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Pw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Iw="https://wqflklflsymnbyiqxzpe.supabase.co",Nw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndxZmxrbGZsc3ltbmJ5aXF4enBlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA4MjA5NjksImV4cCI6MjA4NjM5Njk2OX0.lLo2lsmVf-R4G7LVDAakk0Xj9SjWhJTxBcMGscrOfhk",Zo=Aw(Iw,Nw);function Lw(){return Qo({queryKey:["teams"],queryFn:async()=>{const{data:t,error:e}=await Zo.from("teams").select("*").order("name");if(e)throw e;return t}})}function Dw(t){return Qo({queryKey:["people",t],queryFn:async()=>{let e=Zo.from("people").select("*").order("name");const{data:n,error:r}=await e;if(r)throw r;return n}})}function zw(t){return Qo({queryKey:["behaviors",t],queryFn:async()=>{const{data:e,error:n}=await Zo.from("behaviors").select("*").order("display_order");if(n)throw n;return e}})}function $w(){return Qo({queryKey:["feature-flags"],queryFn:async()=>{const{data:t,error:e}=await Zo.from("feature_flags").select("id, enabled");if(e)throw e;return t.reduce((n,r)=>({...n,[r.id]:r.enabled}),{})},staleTime:5*60*1e3})}const y={bg:"#F5F6F8",surface:"#FFFFFF",border:"#EAECF0",text:"#1A1A1A",textMuted:"#6B7280",textLight:"#9CA3AF",accent:"#22C9AC",accentHover:"#1DB89C",accentSoft:"#E8FAF6",accentRing:"rgba(34, 201, 172, 0.4)",training:{color:"#DC2626",bg:"#FEF2F2"},onTrack:{color:"#22C9AC",bg:"#E8FAF6"},example:{color:"#0D9488",bg:"#E6FFFA"},ai:{color:"#22C9AC",bg:"#E8FAF6"},fontBody:"'Inter', system-ui, sans-serif",fontHeading:"'Sora', system-ui, sans-serif",shadowSoft:"0 1px 3px rgba(0, 0, 0, 0.08)",shadowMedium:"0 4px 12px rgba(0, 0, 0, 0.1)",shadowElevated:"0 8px 24px rgba(0, 0, 0, 0.12)",radiusSm:8,radiusMd:12,radiusLg:16},eu=[{id:"chiara",name:"Chiara Bonfanti",initials:"CB",role:"Payroll Specialist",department:"Amministrazione"},{id:"elena",name:"Elena Marchetti",initials:"EM",role:"Accounts Payable",department:"Amministrazione"},{id:"francesca",name:"Francesca Colombo",initials:"FC",role:"Accounts Receivable",department:"Amministrazione"},{id:"giulia",name:"Giulia Moretti",initials:"GM",role:"Supplier Relations",department:"Amministrazione"},{id:"sofia",name:"Sofia Santoro",initials:"SS",role:"Administrative Coordinator",department:"Amministrazione"}],Uw=["chiara","elena","francesca","giulia","sofia"];let Fw=[{id:"chiara",name:"Chiara Bonfanti",initials:"CB",role:"Payroll Specialist"},{id:"elena",name:"Elena Marchetti",initials:"EM",role:"Accounts Payable"},{id:"francesca",name:"Francesca Colombo",initials:"FC",role:"Accounts Receivable"}];const xt=[{id:"comportamento_1",name:"Comportamento 1",category:"dna",description:"Questo comportamento sar definito insieme durante la sessione di codesign con il team CVE.",indicators:["Da definire","Da definire","Da definire"]},{id:"comportamento_2",name:"Comportamento 2",category:"dna",description:"Questo comportamento sar definito insieme durante la sessione di codesign con il team CVE.",indicators:["Da definire","Da definire","Da definire"]},{id:"comportamento_3",name:"Comportamento 3",category:"team",description:"Questo comportamento sar definito insieme durante la sessione di codesign con il team CVE.",indicators:["Da definire","Da definire","Da definire"]},{id:"comportamento_4",name:"Comportamento 4",category:"team",description:"Questo comportamento sar definito insieme durante la sessione di codesign con il team CVE.",indicators:["Da definire","Da definire","Da definire"]}],Mw={chiara:{comportamento_1:[{id:1,date:"15 Gen",text:"Chiusura mese di dicembre: ha gestito le scadenze payroll con precisione anche con l'assenza di un collega.",author:"manager",level:"example"},{id:2,date:"08 Gen",text:"Risoluzione anomalia contratto: ha identificato subito l'errore e proposto correttivo prima della scadenza.",author:"manager",level:"on_track"}],comportamento_2:[{id:3,date:"22 Dic",text:"Nella riunione di allineamento annuale non ha condiviso feedback su processi migliorabili.",author:"manager",level:"training"}],comportamento_3:[],comportamento_4:[{id:4,date:"10 Gen",text:"Ha anticipato un problema tecnico sul software stipendi e coordinato con IT per risolverlo prima della run.",author:"manager",level:"example"}]},elena:{comportamento_1:[{id:10,date:"18 Gen",text:"Pagamento fornitori: ha verificato tutte le fatture con attenzione, intercettando due duplicati.",author:"manager",level:"on_track"}],comportamento_2:[{id:11,date:"12 Gen",text:"Ha supportato Francesca durante il picco di fatturazione attiva, gestendo anche parte della riconciliazione.",author:"manager",level:"example"}],comportamento_3:[{id:12,date:"05 Gen",text:"Report scadenze fornitori: ha utilizzato il template esistente senza proporre miglioramenti sulla leggibilit.",author:"manager",level:"training"}],comportamento_4:[]},francesca:{comportamento_1:[{id:20,date:"20 Gen",text:"Chiusura trimestrale: ha emesso tutte le fatture nei tempi, coordinando con commerciale per le specifiche cliente.",author:"manager",level:"on_track"},{id:21,date:"14 Gen",text:"Sollecito cliente Rossi: ha gestito la comunicazione in modo diretto ma professionale, ottenendo pagamento.",author:"manager",level:"example"}],comportamento_2:[],comportamento_3:[{id:22,date:"09 Gen",text:"Nella call con cliente Bianchi per sollecito non ha riformulato la richiesta dopo obiezione iniziale.",author:"manager",level:"training"}],comportamento_4:[{id:23,date:"16 Gen",text:"Blocco su software fatturazione: ha segnalato il problema in ritardo, impattando le scadenze.",author:"manager",level:"training"}]},giulia:{comportamento_1:[{id:30,date:"17 Gen",text:"Negoziazione fornitore materiali: ha ottenuto condizioni migliori mantenendo relazione positiva.",author:"manager",level:"example"}],comportamento_2:[{id:31,date:"11 Gen",text:"Ha condiviso con il team le nuove condizioni negoziate con fornitore X, creando valore per tutti.",author:"manager",level:"on_track"}],comportamento_3:[],comportamento_4:[{id:32,date:"13 Gen",text:"Scadenza contratto fornitore Y: non ha comunicato per tempo il rischio interruzione servizio.",author:"manager",level:"training"}]},sofia:{comportamento_1:[{id:40,date:"19 Gen",text:"Coordinamento chiusura anno: ha gestito tutte le scadenze cross-funzionali con comunicazione efficace.",author:"manager",level:"example"}],comportamento_2:[{id:41,date:"10 Gen",text:"Durante il meeting di pianificazione ha facilitato il confronto tra payroll e fatturazione su priorit.",author:"manager",level:"example"}],comportamento_3:[{id:42,date:"07 Gen",text:"Report mensile attivit: ha usato formato standard senza adattarlo alle esigenze del nuovo responsabile.",author:"manager",level:"training"}],comportamento_4:[]}},Bw={chiara:{comportamento_1:"example",comportamento_2:"training",comportamento_3:null,comportamento_4:"example"},elena:{comportamento_1:"on_track",comportamento_2:"example",comportamento_3:"training",comportamento_4:null},francesca:{comportamento_1:"on_track",comportamento_2:null,comportamento_3:"training",comportamento_4:"training"},giulia:{comportamento_1:"example",comportamento_2:"on_track",comportamento_3:null,comportamento_4:"training"},sofia:{comportamento_1:"example",comportamento_2:"example",comportamento_3:"training",comportamento_4:null}};function rr(t){return t==="training"?{...y.training,label:"Da allenare",icon:""}:t==="on_track"?{...y.onTrack,label:"In linea",icon:""}:t==="example"?{...y.example,label:"Di esempio",icon:""}:null}function Jd(t){return t&&t.some(e=>e.level==="on_track"||e.level==="example")}function Yd(t){if(!t||t.length===0)return null;const e=t.filter(r=>r.level==="on_track"||r.level==="example"),n=t.filter(r=>r.level==="training");return e.length>0&&n.length>0?"Questo comportamento  stato osservato in altre situazioni. Il contesto potrebbe fare la differenza.":e.length>0&&n.length===0?"Comportamento consistentemente forte nelle situazioni passate.":null}function Ww(t,e,n){const r=xt.map(o=>{let a=0,l=0,u=0;t.forEach(d=>{var g;const h=(g=e[d.id])==null?void 0:g[o.id];h==="training"&&a++,h==="example"&&l++,h==="on_track"&&u++});const c=a>0?`${a} di ${t.length} persone nel team stanno lavorando su questo comportamento.`:l>0?`Comportamento pi forte nel team con ${l} persone di esempio.`:`${u} persone in linea su questo comportamento.`;return{...o,trainingCount:a,exampleCount:l,onTrackCount:u,total:a+l+u,insight:c}}),i=[...r].sort((o,a)=>a.trainingCount-o.trainingCount)[0],s=[...r].sort((o,a)=>a.exampleCount-o.exampleCount)[0];return{mostCritical:i,strongest:s,behaviorStats:r}}function ir({initials:t,size:e=36,color:n="#22C9AC",style:r={}}){return f.jsx("div",{style:{width:e,height:e,borderRadius:e/2,background:n,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:e*.36,fontWeight:700,fontFamily:y.fontBody,flexShrink:0,boxShadow:y.shadowSoft,...r},children:t})}const Hw={registraNota:"Scrivi una cosa che hai osservato sul tuo collaboratore. Non serve essere precisi  una frase sulla situazione  sufficiente.",ilTuoTeam:'Sono le persone che hai confermato durante il setup. Puoi modificarle dal bottone " Modifica" in alto.',cosaHaiOsservato:'Descrivi la situazione specifica in cui hai visto quel comportamento. Esempio: "Nel meeting con il cliente Rossi ha guidato la conversazione in modo efficace."',livelloOsservato:"Da allenare: il comportamento non si vede ancora in questa situazione. In linea: si vede nel modo atteso per il ruolo. Di esempio: va oltre le aspettative.",comportamentiChiave:"I comportamenti sono le abilit che contano per questo ruolo. Per ogni uno hai una valutazione e uno storico delle situazioni osservate.",dnaAziendale:"Comportamenti che contano per tutti nell'azienda, indipendentemente dal ruolo.",teamVendite:"Comportamenti specifici per il ruolo di vendita  quelli che differenziano chi lo fa bene da chi lo fa meglio.",valutazione:"Scegli il livello basandoti su quello che hai osservato nelle situazioni reali. Non  un voto finale  si aggiorna nel tempo.",aiCounter:"Lo storico delle situazioni precedenti mostra un comportamento diverso. Vale la pena controllare prima di confermare.",tuaPerspettiva:"Aggiungi il tuo punto di vista sulla situazione. Il manager lo vedr accanto alla sua osservazione   un confronto, non una contestazione.",insightAI:"Analisi automatica dei pattern nel tuo team. Ti aiuta a vedere tendenze che magari non emergerti dai singoli casi.",mappaComportamenti:"Ogni cella  una persona  un comportamento.  significa in sviluppo,  in linea,  di esempio. Le celle vuote non sono ancora state valutate."};function at({id:t,position:e="bottom"}){const[n,r]=W.useState(!1),i=Hw[t];if(!i)return null;const s=e==="top";return f.jsxs("span",{style:{position:"relative",display:"inline-flex",alignItems:"center",marginLeft:6,flexShrink:0},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[f.jsx("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:16,height:16,borderRadius:8,border:`1.5px solid ${n?y.ai.color:y.textLight}`,color:n?y.ai.color:y.textLight,fontSize:10,fontWeight:700,cursor:"help",background:n?y.ai.bg:"transparent",transition:"all 0.15s",userSelect:"none",fontStyle:"italic",fontFamily:"Georgia, serif"},children:"i"}),n&&f.jsxs("div",{style:{position:"absolute",[s?"bottom":"top"]:"calc(100% + 8px)",left:"50%",transform:"translateX(-50%)",width:220,background:y.text,color:"#fff",fontSize:12,lineHeight:1.5,padding:"10px 12px",borderRadius:10,zIndex:300,pointerEvents:"none",boxShadow:"0 4px 16px rgba(0,0,0,0.18)",animation:"fadeIn 0.15s ease"},children:[f.jsx("div",{style:{position:"absolute",[s?"bottom":"top"]:-5,left:"50%",width:10,height:10,background:y.text,transform:"translateX(-50%) rotate(45deg)",[s?"marginBottom":"marginTop"]:-3}}),i]})]})}function $a({team:t,onClose:e,onSave:n,selectedPerson:r,selectedBehavior:i}){const[s,o]=W.useState(r||t[0].id),[a,l]=W.useState(i||xt[0].id),[u,c]=W.useState(""),[d,h]=W.useState(null),g=t.find(m=>m.id===s);return xt.find(m=>m.id===a),f.jsx("div",{style:{position:"fixed",inset:0,zIndex:200,background:"rgba(0,0,0,0.4)",display:"flex",alignItems:"flex-end",justifyContent:"center"},children:f.jsxs("div",{style:{width:"100%",maxWidth:520,background:y.surface,borderRadius:"20px 20px 0 0",padding:24,maxHeight:"85vh",overflowY:"auto",animation:"slideUp 0.22s cubic-bezier(.4,0,.2,1)"},children:[f.jsx("div",{style:{width:40,height:4,background:y.border,borderRadius:2,margin:"0 auto 20px"}}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[f.jsx("h3",{style:{fontSize:17,fontWeight:700,color:y.text,margin:0},children:"Nota rapida"}),f.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:22,color:y.textLight,cursor:"pointer"},children:""})]}),f.jsx("label",{style:{fontSize:11,fontWeight:700,color:y.textLight,textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:6,display:"block"},children:"Persona"}),f.jsx("div",{style:{display:"flex",gap:8,marginBottom:18,overflowX:"auto",paddingBottom:4},children:t.map(m=>f.jsxs("button",{onClick:()=>o(m.id),style:{display:"flex",alignItems:"center",gap:8,padding:"8px 14px",borderRadius:22,border:s===m.id?`2px solid ${y.text}`:`2px solid ${y.border}`,background:s===m.id?y.accentSoft:y.surface,cursor:"pointer",whiteSpace:"nowrap",flexShrink:0},children:[f.jsx(ir,{initials:m.initials,size:24,color:s===m.id?y.text:"#A3A8B5"}),f.jsx("span",{style:{fontSize:13,fontWeight:s===m.id?700:500,color:s===m.id?y.text:y.textMuted},children:m.name.split(" ")[0]})]},m.id))}),f.jsx("label",{style:{fontSize:11,fontWeight:700,color:y.textLight,textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:6,display:"block"},children:"Comportamento"}),f.jsx("div",{style:{display:"flex",gap:6,marginBottom:18,flexWrap:"wrap"},children:xt.map(m=>f.jsx("button",{onClick:()=>l(m.id),style:{padding:"6px 14px",borderRadius:18,border:a===m.id?`2px solid ${y.text}`:`2px solid ${y.border}`,background:a===m.id?y.accentSoft:y.surface,fontSize:13,fontWeight:a===m.id?700:500,color:a===m.id?y.text:y.textMuted,cursor:"pointer"},children:m.name},m.id))}),f.jsxs("label",{style:{fontSize:11,fontWeight:700,color:y.textLight,textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:6,display:"flex",alignItems:"center"},children:["Cosa hai osservato",f.jsx(at,{id:"cosaHaiOsservato"})]}),f.jsx("textarea",{value:u,onChange:m=>c(m.target.value),placeholder:`Descriva la situazione con ${g==null?void 0:g.name.split(" ")[0]}...`,style:{width:"100%",minHeight:100,padding:"14px 16px",border:`1.5px solid ${y.border}`,borderRadius:y.radiusMd,fontSize:14,color:y.text,fontFamily:y.fontBody,resize:"none",outline:"none",background:y.bg,boxSizing:"border-box",lineHeight:1.6,transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:m=>{m.target.style.borderColor=y.accent,m.target.style.boxShadow=`0 0 0 3px ${y.accentRing}`},onBlur:m=>{m.target.style.borderColor=y.border,m.target.style.boxShadow="none"}}),u.length>20&&(u.toLowerCase().includes("passiv")||u.toLowerCase().includes("timid")||u.toLowerCase().includes("pigr")||u.toLowerCase().includes("scarso"))&&f.jsxs("div",{style:{display:"flex",gap:8,alignItems:"flex-start",marginTop:10,padding:"10px 12px",background:y.ai.bg,borderRadius:10,border:`1px solid ${y.ai.color}22`},children:[f.jsx("span",{style:{fontSize:14},children:""}),f.jsx("span",{style:{fontSize:12.5,color:y.ai.color,lineHeight:1.5},children:"Il tuo testo contiene un giudizio sulla persona. Prova a descrivere il comportamento osservato nella situazione specifica."})]}),f.jsxs("label",{style:{fontSize:11,fontWeight:700,color:y.textLight,textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:8,display:"flex",alignItems:"center",marginTop:16},children:["Livello osservato",f.jsx(at,{id:"livelloOsservato"})]}),f.jsx("div",{style:{display:"flex",gap:8,marginBottom:24},children:["training","on_track","example"].map(m=>{const _=rr(m),x=d===m;return f.jsxs("button",{onClick:()=>h(m),style:{flex:1,padding:"9px 4px",borderRadius:10,border:x?`2px solid ${_.color}`:`2px solid ${y.border}`,background:x?_.bg:y.surface,cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:3,transition:"all 0.15s"},children:[f.jsx("span",{style:{fontSize:15,color:x?_.color:y.textLight},children:_.icon}),f.jsx("span",{style:{fontSize:11,fontWeight:x?700:500,color:x?_.color:y.textMuted},children:_.label})]},m)})}),f.jsx("button",{onClick:()=>{u&&d&&n(s,a,u,d)},disabled:!u||!d,style:{width:"100%",padding:"15px",borderRadius:y.radiusMd,border:"none",background:u&&d?y.accent:y.border,color:"#fff",fontSize:15,fontWeight:700,cursor:u&&d?"pointer":"default",transition:"all 0.2s ease",boxShadow:u&&d?y.shadowMedium:"none",fontFamily:y.fontBody},onMouseEnter:m=>{u&&d&&(m.currentTarget.style.background=y.accentHover)},onMouseLeave:m=>{u&&d&&(m.currentTarget.style.background=y.accent)},children:"Salva nota"})]})})}function Xd({notes:t,behaviorName:e,personName:n,onClose:r}){const i=t.filter(o=>o.author==="manager"),s=t.filter(o=>o.author==="employee");return f.jsxs("div",{style:{position:"fixed",inset:0,zIndex:150,display:"flex",justifyContent:"flex-end"},children:[f.jsx("div",{style:{flex:1,background:"rgba(0,0,0,0.35)"},onClick:r}),f.jsxs("div",{style:{width:Math.min(420,typeof window<"u"?window.innerWidth:420),background:y.surface,boxShadow:"-4px 0 30px rgba(0,0,0,0.1)",overflowY:"auto",padding:24,animation:"slideIn 0.22s cubic-bezier(.4,0,.2,1)"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[f.jsx("h3",{style:{fontSize:16,fontWeight:700,color:y.text,margin:0},children:e}),f.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:22,color:y.textLight,cursor:"pointer"},children:""})]}),t.length===0&&f.jsx("p",{style:{color:y.textLight,fontSize:13,fontStyle:"italic"},children:"Nessuna situazione registrata."}),[{label:"Osservazioni del manager",items:i},{label:`Prospettiva di ${n||"Chiara"}`,items:s}].map(o=>o.items.length>0?f.jsxs("div",{style:{marginBottom:18},children:[f.jsx("span",{style:{fontSize:10.5,fontWeight:700,color:y.textLight,textTransform:"uppercase",letterSpacing:"0.08em"},children:o.label}),o.items.map(a=>{const l=rr(a.level);return f.jsxs("div",{style:{borderLeft:`3px solid ${l.color}`,background:l.bg,borderRadius:"0 10px 10px 0",padding:"12px 14px",marginTop:8},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[f.jsxs("span",{style:{fontSize:11,fontWeight:700,color:l.color},children:[l.icon," ",l.label]}),f.jsx("span",{style:{fontSize:11,color:y.textLight},children:a.date})]}),f.jsx("p",{style:{fontSize:13,color:y.text,margin:0,lineHeight:1.5},children:a.text})]},a.id)})]},o.label):null)]})]})}function qw({team:t,evals:e,notes:n,onClose:r}){const{mostCritical:i,strongest:s,behaviorStats:o}=Ww(t,e);return f.jsx("div",{style:{position:"fixed",inset:0,zIndex:150,background:y.bg,overflowY:"auto",animation:"fadeIn 0.2s ease"},children:f.jsxs("div",{style:{maxWidth:600,margin:"0 auto",padding:"24px 20px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:24},children:[f.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:20,color:y.textMuted,cursor:"pointer"},children:""}),f.jsx("h2",{style:{fontSize:20,fontWeight:700,color:y.text,margin:0},children:"Vista Team"})]}),f.jsxs("div",{style:{background:y.ai.bg,borderRadius:14,padding:18,marginBottom:18,border:`1px solid ${y.ai.color}22`},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[f.jsx("span",{style:{fontSize:15,color:y.ai.color},children:""}),f.jsx("span",{style:{fontSize:12,fontWeight:700,color:y.ai.color,textTransform:"uppercase",letterSpacing:"0.08em"},children:"Insight AI"}),f.jsx(at,{id:"insightAI"})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[f.jsxs("div",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[f.jsx("span",{style:{fontSize:13,background:y.training.bg,color:y.training.color,padding:"2px 10px",borderRadius:10,fontWeight:700,whiteSpace:"nowrap"},children:"Area critica"}),f.jsxs("span",{style:{fontSize:13,color:y.text,lineHeight:1.5},children:[f.jsx("strong",{children:i.name}),"  ",i.insight]})]}),f.jsxs("div",{style:{display:"flex",gap:10,alignItems:"flex-start"},children:[f.jsx("span",{style:{fontSize:13,background:y.example.bg,color:y.example.color,padding:"2px 10px",borderRadius:10,fontWeight:700,whiteSpace:"nowrap"},children:"Punto di forza"}),f.jsxs("span",{style:{fontSize:13,color:y.text,lineHeight:1.5},children:[f.jsx("strong",{children:s.name}),"  ",s.insight]})]})]})]}),f.jsxs("div",{style:{background:y.surface,borderRadius:14,border:`1px solid ${y.border}`,padding:18,marginBottom:18},children:[f.jsxs("h4",{style:{fontSize:13,fontWeight:700,color:y.text,marginBottom:14,display:"flex",alignItems:"center"},children:["Mappa comportamenti",f.jsx(at,{id:"mappaComportamenti"})]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:`1fr repeat(${t.length}, 48px)`,gap:4,marginBottom:8},children:[f.jsx("div",{}),t.map(a=>f.jsx("div",{style:{textAlign:"center"},children:f.jsx(ir,{initials:a.initials,size:28,color:"#A3A8B5",style:{margin:"0 auto"}})},a.id))]}),xt.map(a=>f.jsxs("div",{style:{display:"grid",gridTemplateColumns:`1fr repeat(${t.length}, 48px)`,gap:4,alignItems:"center",marginBottom:6},children:[f.jsx("span",{style:{fontSize:13,color:y.text,fontWeight:500},children:a.name}),t.map(l=>{var d;const u=(d=e[l.id])==null?void 0:d[a.id],c=u?rr(u):null;return f.jsxs("div",{style:{width:40,height:40,margin:"0 auto",borderRadius:10,background:c?c.bg:y.bg,border:`1px solid ${c?c.color+"33":y.border}`,display:"flex",alignItems:"center",justifyContent:"center"},children:[c&&f.jsx("span",{style:{fontSize:16,color:c.color},children:c.icon}),!c&&f.jsx("span",{style:{fontSize:16,color:y.border},children:""})]},l.id)})]},a.id)),f.jsx("div",{style:{display:"flex",gap:14,marginTop:16,paddingTop:12,borderTop:`1px solid ${y.border}`,flexWrap:"wrap"},children:["training","on_track","example"].map(a=>{const l=rr(a);return f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[f.jsx("span",{style:{fontSize:13,color:l.color},children:l.icon}),f.jsx("span",{style:{fontSize:11,color:y.textMuted},children:l.label})]},a)})})]}),t.map(a=>{const l=e[a.id]||{},u=Object.entries(l).filter(([,d])=>d==="example").map(([d])=>{var h;return(h=xt.find(g=>g.id===d))==null?void 0:h.name}).filter(Boolean),c=Object.entries(l).filter(([,d])=>d==="training").map(([d])=>{var h;return(h=xt.find(g=>g.id===d))==null?void 0:h.name}).filter(Boolean);return f.jsxs("div",{style:{background:y.surface,borderRadius:14,border:`1px solid ${y.border}`,padding:18,marginBottom:12},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12},children:[f.jsx(ir,{initials:a.initials,size:34,color:"#1A1A1A"}),f.jsxs("div",{children:[f.jsx("span",{style:{fontSize:14,fontWeight:700,color:y.text},children:a.name}),f.jsx("span",{style:{fontSize:12,color:y.textMuted,display:"block"},children:a.role})]})]}),u.length>0&&f.jsxs("div",{style:{marginBottom:8},children:[f.jsx("span",{style:{fontSize:10,fontWeight:700,color:y.onTrack.color,textTransform:"uppercase",letterSpacing:"0.06em"},children:"Punti di forza"}),f.jsx("div",{style:{display:"flex",gap:6,marginTop:4,flexWrap:"wrap"},children:u.map(d=>f.jsx("span",{style:{fontSize:12,background:y.onTrack.bg,color:y.onTrack.color,padding:"3px 10px",borderRadius:12,fontWeight:600},children:d},d))})]}),c.length>0&&f.jsxs("div",{children:[f.jsx("span",{style:{fontSize:10,fontWeight:700,color:y.training.color,textTransform:"uppercase",letterSpacing:"0.06em"},children:"Da sviluppare"}),f.jsx("div",{style:{display:"flex",gap:6,marginTop:4,flexWrap:"wrap"},children:c.map(d=>f.jsx("span",{style:{fontSize:12,background:y.training.bg,color:y.training.color,padding:"3px 10px",borderRadius:12,fontWeight:600},children:d},d))})]})]},a.id)})]})})}function Vw({initialSelection:t,isFirstTime:e,onValidate:n}){const[r,i]=W.useState(t||Uw),[s,o]=W.useState(!1),a=eu.filter(u=>!r.includes(u.id)),l=u=>{i(c=>c.includes(u)?c.filter(d=>d!==u):[...c,u])};return f.jsxs(f.Fragment,{children:[f.jsx("style",{children:`
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Inter', system-ui, sans-serif; background: ${y.bg}; min-height: 100vh; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(100%); opacity:0; } to { transform: translateY(0); opacity:1; } }
        button { font-family: 'Inter', system-ui, sans-serif; }
      `}),f.jsxs("div",{style:{maxWidth:540,margin:"0 auto",padding:"48px 20px 100px",minHeight:"100vh",animation:"fadeIn 0.3s ease"},children:[f.jsxs("div",{style:{marginBottom:32},children:[f.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",background:"#1A1A1A",borderRadius:12,padding:"10px 16px",marginBottom:16},children:f.jsx("img",{src:Np,alt:"CVE",style:{height:28,objectFit:"contain"}})}),f.jsx("div",{style:{marginBottom:16},children:f.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,background:y.ai.bg,border:`1px solid ${y.ai.color}22`,borderRadius:20,padding:"5px 12px"},children:[f.jsx("span",{style:{fontSize:13,color:y.ai.color},children:""}),f.jsx("span",{style:{fontSize:11.5,fontWeight:600,color:y.ai.color},children:e?"Setup iniziale":"Modifica team"})]})}),f.jsx("h1",{style:{fontFamily:y.fontHeading,fontSize:28,color:y.text,fontWeight:700,lineHeight:1.3,marginBottom:10},children:e?"Controlla il tuo team":"Il tuo team attuale"}),f.jsx("p",{style:{fontSize:14,color:y.textMuted,lineHeight:1.5},children:e?"Il sistema ha suggerito le persone di sotto basandosi sulla struttura aziendale. Conferma, rimuovi o aggiungi chi serve.":"Aggiungi o rimuovi persone dal tuo team. Le modifiche entrano subito in effetto."})]}),f.jsx("div",{style:{marginBottom:10},children:f.jsxs("span",{style:{fontSize:11,fontWeight:700,color:y.textLight,textTransform:"uppercase",letterSpacing:"0.08em"},children:["Il tuo team (",r.length,")"]})}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,marginBottom:20},children:eu.filter(u=>r.includes(u.id)).map(u=>f.jsxs("div",{style:{background:y.surface,border:`1px solid ${y.border}`,borderRadius:14,padding:"14px 16px",display:"flex",alignItems:"center",gap:12},children:[f.jsx(ir,{initials:u.initials,size:40,color:y.accent}),f.jsxs("div",{style:{flex:1},children:[f.jsx("span",{style:{fontSize:14,fontWeight:700,color:y.text,display:"block"},children:u.name}),f.jsx("span",{style:{fontSize:12,color:y.textMuted},children:u.role})]}),f.jsx("button",{onClick:()=>l(u.id),style:{background:y.bg,border:`1px solid ${y.border}`,borderRadius:8,width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:y.textMuted,fontSize:16,transition:"all 0.15s"},onMouseEnter:c=>{c.currentTarget.style.background=y.training.bg,c.currentTarget.style.color=y.training.color},onMouseLeave:c=>{c.currentTarget.style.background=y.bg,c.currentTarget.style.color=y.textMuted},children:""})]},u.id))}),f.jsxs("button",{onClick:()=>o(!s),style:{width:"100%",background:"transparent",border:`1.5px dashed ${y.border}`,borderRadius:14,padding:"12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:s?12:20,transition:"border-color 0.2s"},onMouseEnter:u=>u.currentTarget.style.borderColor=y.text,onMouseLeave:u=>u.currentTarget.style.borderColor=y.border,children:[f.jsx("span",{style:{fontSize:18,color:y.textMuted},children:"+"}),f.jsx("span",{style:{fontSize:13,fontWeight:600,color:y.textMuted},children:"Aggiungi persona"})]}),s&&a.length>0&&f.jsxs("div",{style:{background:y.surface,border:`1px solid ${y.border}`,borderRadius:14,padding:12,marginBottom:20,animation:"fadeIn 0.15s ease"},children:[f.jsx("span",{style:{fontSize:11,fontWeight:700,color:y.textLight,textTransform:"uppercase",letterSpacing:"0.08em",marginBottom:8,display:"block"},children:"Altre persone nell'organizzazione"}),a.map(u=>f.jsxs("button",{onClick:()=>{l(u.id)},style:{width:"100%",background:"transparent",border:"none",padding:"10px 8px",cursor:"pointer",display:"flex",alignItems:"center",gap:10,borderRadius:10,textAlign:"left",transition:"background 0.15s"},onMouseEnter:c=>c.currentTarget.style.background=y.bg,onMouseLeave:c=>c.currentTarget.style.background="transparent",children:[f.jsx(ir,{initials:u.initials,size:32,color:"#A3A8B5"}),f.jsxs("div",{style:{flex:1},children:[f.jsx("span",{style:{fontSize:13,fontWeight:600,color:y.text,display:"block"},children:u.name}),f.jsxs("span",{style:{fontSize:11.5,color:y.textMuted},children:[u.role,"  ",u.department]})]}),f.jsx("span",{style:{fontSize:16,color:y.onTrack.color,fontWeight:700},children:"+"})]},u.id))]}),s&&a.length===0&&f.jsx("p",{style:{fontSize:13,color:y.textLight,fontStyle:"italic",marginBottom:20},children:"Tutte le persone sono gi nel tuo team."}),e&&f.jsx("div",{style:{background:y.surface,border:`1px solid ${y.border}`,borderRadius:14,padding:18,marginBottom:24},children:f.jsxs("div",{style:{display:"flex",gap:8,alignItems:"flex-start"},children:[f.jsx("span",{style:{fontSize:16,color:y.textMuted,marginTop:2},children:""}),f.jsxs("div",{children:[f.jsx("span",{style:{fontSize:13,fontWeight:600,color:y.text,display:"block",marginBottom:2},children:"Prima di confermare"}),f.jsx("span",{style:{fontSize:12.5,color:y.textMuted,lineHeight:1.5},children:"Questa configurazione pu essere modificata in futuro, ma per ora il sistema user questa lista come base per le valutazioni e la vista team."})]})]})}),f.jsx("button",{onClick:()=>n(r),disabled:r.length===0,style:{width:"100%",padding:"16px",borderRadius:y.radiusMd,border:"none",background:r.length>0?y.accent:y.border,color:"#fff",fontSize:15,fontWeight:700,cursor:r.length>0?"pointer":"default",transition:"all 0.2s ease",boxShadow:r.length>0?y.shadowMedium:"none",fontFamily:y.fontBody},onMouseEnter:u=>{r.length>0&&(u.currentTarget.style.background=y.accentHover)},onMouseLeave:u=>{r.length>0&&(u.currentTarget.style.background=y.accent)},children:e?`Conferma team (${r.length} persone)`:`Salva modifiche (${r.length} persone)`})]})]})}function Kw(){var rc,ic,sc,oc;const[t,e]=W.useState("manager"),[n,r]=W.useState("home"),[i,s]=W.useState("chiara"),[o,a]=W.useState(!1),[l,u]=W.useState({}),[c,d]=W.useState(null),[h,g]=W.useState(Mw),[m,_]=W.useState(Bw);W.useState({});const[x,w]=W.useState({manager:!1,employee:!1}),[p,v]=W.useState(!1),[k,E]=W.useState(!1),[b,T]=W.useState(Fw),{data:R,isLoading:L,error:N}=Lw(),{data:de,isLoading:Ue,error:tt}=Dw(),{data:ea,isLoading:ta,error:ai}=zw(),{data:vs,isLoading:O,error:U}=$w(),F=L||Ue||ta||O,Z=N||tt||ai||U;if(F)return f.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",fontFamily:y.fontBody,color:y.textMuted},children:"Caricamento dati..."});Z&&console.warn("Supabase non disponibile, uso dati demo:",Z);const he=j=>{const B=eu.filter(te=>j.includes(te.id));T(B),v(!0),E(!0)};if(t==="manager"&&!p)return f.jsx(Vw,{initialSelection:k?b.map(j=>j.id):null,isFirstTime:!k,onValidate:he});const Rn=t==="manager"?b:[b.find(j=>j.id==="chiara")||b[0]],se=t==="manager",Se=b.find(j=>j.id===i)||b[0],nt=h[Se==null?void 0:Se.id]||{},Qt=(j,B,te,oe)=>{const ht={id:Date.now(),date:"Oggi",text:te,author:"manager",level:oe};g(fe=>{var ar;return{...fe,[j]:{...fe[j],[B]:[...((ar=fe[j])==null?void 0:ar[B])||[],ht]}}}),_(fe=>({...fe,[j]:{...fe[j],[B]:oe}})),a(!1)},tc=(j,B)=>{_(te=>({...te,[i]:{...te[i],[j]:B}}))},nc=(j,B)=>{const te={id:Date.now(),date:"Oggi",text:B,author:"employee",level:"on_track"};g(oe=>{var ht;return{...oe,[i]:{...oe[i],[j]:[...((ht=oe[i])==null?void 0:ht[j])||[],te]}}})};return n==="home"?f.jsxs(f.Fragment,{children:[f.jsx("style",{children:`
          * { box-sizing: border-box; margin: 0; padding: 0; }
          body { font-family: 'Inter', system-ui, sans-serif; background: ${y.bg}; min-height: 100vh; }
          @keyframes slideUp { from { transform: translateY(100%); opacity:0; } to { transform: translateY(0); opacity:1; } }
          @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
          @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
          @keyframes stagger0 { from { opacity:0; transform:translateY(12px); } to { opacity:1; transform:translateY(0); } }
          textarea::-webkit-scrollbar { width: 4px; } textarea::-webkit-scrollbar-thumb { background: #ddd; border-radius: 2px; }
          button { font-family: 'Inter', system-ui, sans-serif; }
        `}),f.jsxs("div",{style:{maxWidth:540,margin:"0 auto",padding:"32px 20px 100px",minHeight:"100vh",animation:"fadeIn 0.3s ease"},children:[f.jsx("div",{style:{marginBottom:32,display:"flex",justifyContent:"center"},children:f.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",background:"#1A1A1A",borderRadius:12,padding:"12px 20px"},children:f.jsx("img",{src:Np,alt:"CVE",style:{height:36,objectFit:"contain"}})})}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:28},children:[f.jsx("div",{style:{display:"flex",gap:3,background:y.surface,borderRadius:20,padding:3,border:`1px solid ${y.border}`},children:[{id:"manager",label:"Dalila"},{id:"employee",label:"Chiara"}].map(j=>f.jsx("button",{onClick:()=>e(j.id),style:{padding:"6px 16px",borderRadius:18,border:"none",background:t===j.id?y.accent:"transparent",color:t===j.id?"#fff":y.textMuted,fontSize:13,fontWeight:t===j.id?700:500,cursor:"pointer",transition:"all 0.2s",fontFamily:y.fontBody},children:j.label},j.id))}),se&&f.jsxs("div",{style:{display:"flex",gap:6},children:[f.jsx("button",{onClick:()=>v(!1),style:{background:y.surface,border:`1px solid ${y.border}`,borderRadius:20,padding:"6px 12px",fontSize:11,color:y.textMuted,fontWeight:600,cursor:"pointer"},children:" Modifica"}),f.jsxs("button",{onClick:()=>r("team"),style:{background:y.surface,border:`1px solid ${y.border}`,borderRadius:20,padding:"6px 14px",fontSize:12,color:y.text,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:5},children:[f.jsx("span",{children:""})," Team"]})]})]}),f.jsxs("h1",{style:{fontFamily:y.fontHeading,fontSize:26,color:y.text,fontWeight:700,marginBottom:4,lineHeight:1.3},children:["Buongiorno, ",se?"Dalila":"Chiara"]}),f.jsx("p",{style:{fontSize:14,color:y.textMuted,marginBottom:28,lineHeight:1.6,fontFamily:y.fontBody},children:se?"Segui la crescita del tuo team":"Segui il tuo percorso di crescita"}),se&&f.jsxs("button",{onClick:()=>{a(!0),u({})},style:{width:"100%",display:"flex",alignItems:"center",gap:14,background:y.accent,borderRadius:y.radiusLg,border:"none",padding:"18px 22px",cursor:"pointer",marginBottom:20,boxShadow:y.shadowMedium,transition:"all 0.2s ease",fontFamily:y.fontBody},onMouseEnter:j=>{j.currentTarget.style.background=y.accentHover,j.currentTarget.style.transform="scale(1.01)"},onMouseLeave:j=>{j.currentTarget.style.background=y.accent,j.currentTarget.style.transform="scale(1)"},children:[f.jsx("div",{style:{width:40,height:40,borderRadius:y.radiusSm,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx("span",{style:{color:"#fff",fontSize:20,fontWeight:700},children:"+"})}),f.jsxs("div",{style:{textAlign:"left",flex:1},children:[f.jsx("span",{style:{color:"#fff",fontSize:15,fontWeight:700,display:"block",fontFamily:y.fontBody},children:"Registra una nota"}),f.jsx("span",{style:{color:"rgba(255,255,255,0.7)",fontSize:13},children:"Aggiungi un'osservazione rapida"})]}),f.jsx(at,{id:"registraNota",position:"top"})]}),f.jsx("div",{style:{marginBottom:10},children:f.jsxs("span",{style:{fontSize:11,fontWeight:700,color:y.textLight,textTransform:"uppercase",letterSpacing:"0.08em",display:"inline-flex",alignItems:"center"},children:[se?"Il tuo team":"Il tuo profilo",se&&f.jsx(at,{id:"ilTuoTeam"})]})}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:(se?Rn:Rn.filter(j=>j.id==="chiara")).map((j,B)=>{const te=m[j.id]||{},oe=Object.values(te).filter(fe=>fe==="training").length,ht=Object.values(te).filter(fe=>fe==="example").length;return f.jsx("div",{style:{animation:`stagger0 0.3s ease ${B*.06}s both`},children:f.jsxs("button",{onClick:()=>{s(j.id),r("profile")},style:{width:"100%",background:y.surface,border:`1px solid ${y.border}`,borderRadius:y.radiusLg,padding:"18px 20px",cursor:"pointer",display:"flex",alignItems:"center",gap:16,textAlign:"left",boxShadow:y.shadowSoft,transition:"all 0.2s ease"},onMouseEnter:fe=>{fe.currentTarget.style.transform="scale(1.01)",fe.currentTarget.style.boxShadow=y.shadowMedium},onMouseLeave:fe=>{fe.currentTarget.style.transform="scale(1)",fe.currentTarget.style.boxShadow=y.shadowSoft},children:[f.jsx(ir,{initials:j.initials,size:44,color:y.accent}),f.jsxs("div",{style:{flex:1},children:[f.jsx("span",{style:{fontSize:15,fontWeight:700,color:y.text,display:"block"},children:j.name}),f.jsx("span",{style:{fontSize:12,color:y.textMuted},children:j.role})]}),f.jsxs("div",{style:{display:"flex",gap:8},children:[ht>0&&f.jsxs("span",{style:{fontSize:11,background:y.example.bg,color:y.example.color,padding:"3px 8px",borderRadius:8,fontWeight:700},children:[" ",ht]}),oe>0&&f.jsxs("span",{style:{fontSize:11,background:y.training.bg,color:y.training.color,padding:"3px 8px",borderRadius:8,fontWeight:700},children:[" ",oe]})]})]})},j.id)})})]}),o&&f.jsx($a,{team:b,onClose:()=>a(!1),onSave:Qt,selectedPerson:l.person,selectedBehavior:l.behavior})]}):n==="profile"?f.jsxs(f.Fragment,{children:[f.jsx("style",{children:`
          * { box-sizing: border-box; margin: 0; padding: 0; }
          body { font-family: 'Inter', system-ui, sans-serif; background: ${y.bg}; min-height: 100vh; }
          @keyframes slideUp { from { transform: translateY(100%); opacity:0; } to { transform: translateY(0); opacity:1; } }
          @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
          @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
          @keyframes expandDown { from { opacity:0; max-height:0; } to { opacity:1; max-height:600px; } }
          textarea::-webkit-scrollbar { width: 4px; } textarea::-webkit-scrollbar-thumb { background: #ddd; border-radius: 2px; }
          button { font-family: 'Inter', system-ui, sans-serif; }
        `}),f.jsxs("div",{style:{maxWidth:540,margin:"0 auto",padding:"24px 20px 100px",minHeight:"100vh",animation:"fadeIn 0.25s ease"},children:[f.jsx("button",{onClick:()=>r("home"),style:{background:"none",border:"none",color:y.textMuted,fontSize:13,cursor:"pointer",display:"flex",alignItems:"center",gap:4,marginBottom:16},children:" Indietro"}),f.jsxs("div",{style:{background:y.surface,borderRadius:16,border:`1px solid ${y.border}`,padding:22,marginBottom:16},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14},children:[f.jsx(ir,{initials:Se.initials,size:50,color:y.accent}),f.jsxs("div",{style:{flex:1},children:[f.jsx("h2",{style:{fontSize:20,fontWeight:700,color:y.text,margin:0},children:Se.name}),f.jsx("p",{style:{fontSize:13,color:y.textMuted,margin:"2px 0 0"},children:Se.role})]})]}),f.jsx("div",{style:{marginTop:16,padding:"12px 14px",background:y.bg,borderRadius:10},children:f.jsxs("p",{style:{fontSize:13,color:"#555",lineHeight:1.6,margin:0},children:[f.jsx("strong",{children:"Obiettivo:"})," Gestire e sviluppare il portfolio clienti nel territorio, generando nuovo fatturato con approcci consultivi personalizzati."]})}),f.jsx("div",{style:{display:"flex",gap:8,marginTop:14},children:[{key:"manager",label:"Dalila"},{key:"employee",label:"Chiara"}].map(j=>{const B=x[j.key],te=se&&j.key==="manager"||!se&&j.key==="employee";return f.jsxs("button",{onClick:()=>te&&w(oe=>({...oe,[j.key]:!oe[j.key]})),style:{flex:1,padding:"8px 12px",borderRadius:10,border:B?`2px solid ${y.accent}`:`2px solid ${y.border}`,background:B?y.accentSoft:y.surface,color:B?y.text:y.textMuted,fontSize:12.5,fontWeight:B?700:500,cursor:te?"pointer":"default",opacity:te?1:.6,display:"flex",alignItems:"center",justifyContent:"center",gap:6,transition:"all 0.2s"},children:[f.jsx("span",{children:B?"":""})," ",j.label," ",B?"OK":"conferma"]},j.key)})}),x.manager&&x.employee&&f.jsxs("div",{style:{marginTop:10,padding:"8px 12px",background:y.onTrack.bg,borderRadius:10,display:"flex",alignItems:"center",gap:6},children:[f.jsx("span",{style:{color:y.onTrack.color},children:""}),f.jsx("span",{style:{fontSize:12.5,color:y.onTrack.color,fontWeight:600},children:"Profilo condiviso"})]})]}),se&&f.jsxs("button",{onClick:()=>{a(!0),u({person:i})},style:{width:"100%",marginBottom:18,background:y.surface,border:`1.5px dashed ${y.border}`,borderRadius:14,padding:"13px 18px",cursor:"pointer",display:"flex",alignItems:"center",gap:12,textAlign:"left",transition:"border-color 0.2s, background 0.2s"},onMouseEnter:j=>{j.currentTarget.style.borderColor=y.ai.color,j.currentTarget.style.background=y.ai.bg},onMouseLeave:j=>{j.currentTarget.style.borderColor=y.border,j.currentTarget.style.background=y.surface},children:[f.jsx("span",{style:{width:32,height:32,borderRadius:8,background:y.accentSoft,display:"flex",alignItems:"center",justifyContent:"center",fontSize:16,flexShrink:0},children:"+"}),f.jsxs("div",{children:[f.jsxs("span",{style:{fontSize:13,fontWeight:600,color:y.text,display:"block"},children:["Hai qualcosa da scrivere su ",Se.name.split(" ")[0],"?"]}),f.jsx("span",{style:{fontSize:12,color:y.textMuted},children:"Registra un'osservazione rapida"})]})]}),f.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:f.jsxs("span",{style:{fontSize:13,fontWeight:700,color:y.text,display:"inline-flex",alignItems:"center"},children:["Comportamenti Chiave",f.jsx(at,{id:"comportamentiChiave"})]})}),["dna","team"].map(j=>f.jsxs("div",{children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10,marginTop:j==="team"?20:8},children:[f.jsx("div",{style:{flex:1,height:1,background:y.border}}),f.jsxs("span",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",color:j==="dna"?y.accent:"#0D9488",display:"inline-flex",alignItems:"center",gap:4},children:[j==="dna"?"DNA Aziendale":"Team Vendite",f.jsx(at,{id:j==="dna"?"dnaAziendale":"teamVendite"})]}),f.jsx("div",{style:{flex:1,height:1,background:y.border}})]}),xt.filter(B=>B.category===j).map(B=>{var li;const te=nt[B.id]||[],oe=(li=m[i])==null?void 0:li[B.id],ht=oe?rr(oe):null,fe=Yd(te),ar=se&&oe==="training"&&Jd(te);return f.jsx(Zd,{behavior:B,isManager:se,currentLevel:oe,cfg:ht,behaviorNotes:te,aiInsight:fe,showCounter:ar,onEvalChange:tc,onHistoryOpen:()=>d(B.id),onEmployeeNote:na=>nc(B.id,na)},B.id)})]},j))]}),c&&f.jsx(Xd,{notes:nt[c]||[],behaviorName:(rc=xt.find(j=>j.id===c))==null?void 0:rc.name,personName:(ic=Se==null?void 0:Se.name)==null?void 0:ic.split(" ")[0],onClose:()=>d(null)}),o&&f.jsx($a,{team:b,onClose:()=>a(!1),onSave:Qt,selectedPerson:l.person,selectedBehavior:l.behavior})]}):n==="behaviors"?f.jsxs(f.Fragment,{children:[f.jsx("style",{children:`
          * { box-sizing: border-box; margin: 0; padding: 0; }
          body { font-family: 'Inter', system-ui, sans-serif; background: ${y.bg}; min-height: 100vh; }
          @keyframes slideUp { from { transform: translateY(100%); opacity:0; } to { transform: translateY(0); opacity:1; } }
          @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
          @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
          @keyframes expandDown { from { opacity:0; max-height:0; } to { opacity:1; max-height:600px; } }
          textarea::-webkit-scrollbar { width: 4px; } textarea::-webkit-scrollbar-thumb { background: #ddd; border-radius: 2px; }
          button { font-family: 'Inter', system-ui, sans-serif; }
        `}),f.jsxs("div",{style:{maxWidth:540,margin:"0 auto",padding:"24px 20px 100px",minHeight:"100vh",animation:"fadeIn 0.25s ease"},children:[f.jsx("button",{onClick:()=>r("profile"),style:{background:"none",border:"none",color:y.textMuted,fontSize:13,cursor:"pointer",display:"flex",alignItems:"center",gap:4,marginBottom:8},children:" Indietro"}),f.jsx("h2",{style:{fontSize:18,fontWeight:700,color:y.text,marginBottom:18},children:"Comportamenti Chiave"}),["dna","team"].map(j=>f.jsxs("div",{children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10,marginTop:j==="team"?20:0},children:[f.jsx("div",{style:{flex:1,height:1,background:y.border}}),f.jsxs("span",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",color:j==="dna"?y.accent:"#0D9488",display:"inline-flex",alignItems:"center",gap:4},children:[j==="dna"?"DNA Aziendale":"Team Vendite",f.jsx(at,{id:j==="dna"?"dnaAziendale":"teamVendite"})]}),f.jsx("div",{style:{flex:1,height:1,background:y.border}})]}),xt.filter(B=>B.category===j).map(B=>{var li;const te=nt[B.id]||[],oe=(li=m[i])==null?void 0:li[B.id],ht=oe?rr(oe):null,fe=Yd(te),ar=se&&oe==="training"&&Jd(te);return f.jsx(Zd,{behavior:B,isManager:se,currentLevel:oe,cfg:ht,behaviorNotes:te,aiInsight:fe,showCounter:ar,onEvalChange:tc,onHistoryOpen:()=>d(B.id),onEmployeeNote:na=>nc(B.id,na)},B.id)})]},j))]}),c&&f.jsx(Xd,{notes:nt[c]||[],behaviorName:(sc=xt.find(j=>j.id===c))==null?void 0:sc.name,personName:(oc=Se==null?void 0:Se.name)==null?void 0:oc.split(" ")[0],onClose:()=>d(null)}),o&&f.jsx($a,{team:b,onClose:()=>a(!1),onSave:Qt,selectedPerson:l.person,selectedBehavior:l.behavior})]}):n==="team"?f.jsxs(f.Fragment,{children:[f.jsx("style",{children:`
          * { box-sizing: border-box; margin: 0; padding: 0; }
          body { font-family: 'Inter', system-ui, sans-serif; background: ${y.bg}; min-height: 100vh; }
          @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
          button { font-family: 'Inter', system-ui, sans-serif; }
        `}),f.jsx(qw,{team:b,evals:m,notes:h,onClose:()=>r("home")})]}):null}function Zd({behavior:t,isManager:e,currentLevel:n,cfg:r,behaviorNotes:i,aiInsight:s,showCounter:o,onEvalChange:a,onHistoryOpen:l,onEmployeeNote:u}){const[c,d]=W.useState(!1),[h,g]=W.useState("");return f.jsxs("div",{style:{background:y.surface,borderRadius:14,border:`1px solid ${y.border}`,marginBottom:10,overflow:"hidden"},children:[f.jsxs("button",{onClick:()=>d(!c),style:{width:"100%",background:"none",border:"none",padding:"15px 18px",cursor:"pointer",display:"flex",alignItems:"center",gap:12,textAlign:"left"},children:[f.jsxs("div",{style:{flex:1},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:3},children:[f.jsx("span",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.06em",color:t.category==="dna"?y.accent:"#0D9488",background:t.category==="dna"?y.accentSoft:"#E6FFFA",padding:"2px 8px",borderRadius:8},children:t.category==="dna"?"DNA":"Vendite"}),r&&f.jsxs("span",{style:{fontSize:12,fontWeight:700,color:r.color},children:[r.icon," ",r.label]})]}),f.jsx("span",{style:{fontSize:15,fontWeight:700,color:y.text},children:t.name})]}),f.jsx("span",{style:{color:y.textLight,fontSize:18,transition:"transform 0.2s",transform:c?"rotate(180deg)":"rotate(0)"},children:""})]}),c&&f.jsxs("div",{style:{padding:"0 18px 18px",animation:"expandDown 0.2s ease"},children:[f.jsx("p",{style:{fontSize:13,color:"#555",lineHeight:1.55,margin:"0 0 10px",background:y.bg,padding:"10px 12px",borderRadius:10,borderLeft:`3px solid ${y.border}`},children:t.description}),f.jsx("div",{style:{marginBottom:14},children:t.indicators.map((m,_)=>f.jsxs("div",{style:{display:"flex",gap:6,alignItems:"flex-start",marginBottom:3},children:[f.jsx("span",{style:{color:y.textLight,fontSize:12,marginTop:1},children:""}),f.jsx("span",{style:{fontSize:12.5,color:y.textMuted},children:m})]},_))}),e&&f.jsxs(f.Fragment,{children:[f.jsxs("label",{style:{fontSize:10.5,fontWeight:700,color:y.textLight,textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:6,display:"flex",alignItems:"center"},children:["Valutazione",f.jsx(at,{id:"valutazione"})]}),f.jsx("div",{style:{display:"flex",gap:6,marginBottom:12},children:["training","on_track","example"].map(m=>{const _=rr(m),x=n===m;return f.jsxs("button",{onClick:()=>a(t.id,m),style:{flex:1,padding:"8px 4px",borderRadius:10,border:x?`2px solid ${_.color}`:`2px solid ${y.border}`,background:x?_.bg:y.surface,cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:2,transition:"all 0.15s"},children:[f.jsx("span",{style:{fontSize:15,color:x?_.color:y.textLight},children:_.icon}),f.jsx("span",{style:{fontSize:10.5,fontWeight:x?700:500,color:x?_.color:y.textMuted},children:_.label})]},m)})}),o&&f.jsxs("button",{onClick:l,style:{width:"100%",display:"flex",alignItems:"center",gap:8,padding:"8px 12px",background:y.ai.bg,borderRadius:10,border:`1px solid ${y.ai.color}22`,cursor:"pointer",marginBottom:12,textAlign:"left"},children:[f.jsx("span",{style:{fontSize:13,color:y.ai.color},children:""}),f.jsx("span",{style:{fontSize:12,color:y.ai.color,fontWeight:600,flex:1},children:"Questo comportamento  stato osservato in altre situazioni"}),f.jsx(at,{id:"aiCounter",position:"top"}),f.jsx("span",{style:{fontSize:11,color:y.ai.color},children:"vedi "})]}),f.jsxs("button",{onClick:l,style:{width:"100%",padding:"10px",borderRadius:10,border:`1px solid ${y.border}`,background:y.surface,cursor:"pointer",fontSize:13,fontWeight:500,color:y.textMuted,display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[f.jsx("span",{children:""})," Storico (",i.length,")"]})]}),!e&&f.jsxs(f.Fragment,{children:[n&&f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"8px 12px",background:y.bg,borderRadius:10,marginBottom:12},children:[f.jsx("span",{style:{fontSize:11,color:y.textMuted},children:"Valutazione di Dalila:"}),f.jsxs("span",{style:{fontSize:12,fontWeight:700,color:r.color},children:[r.icon," ",r.label]})]}),f.jsxs("label",{style:{fontSize:10.5,fontWeight:700,color:y.textLight,textTransform:"uppercase",letterSpacing:"0.06em",marginBottom:6,display:"flex",alignItems:"center"},children:["La tua prospettiva",f.jsx(at,{id:"tuaPerspettiva"})]}),f.jsx("textarea",{value:h,onChange:m=>g(m.target.value),placeholder:"Aggiungi il tuo punto di vista su una situazione...",style:{width:"100%",minHeight:70,padding:"12px 14px",border:`1.5px solid ${y.border}`,borderRadius:y.radiusSm,fontSize:13,color:y.text,fontFamily:y.fontBody,resize:"none",outline:"none",background:y.bg,boxSizing:"border-box",lineHeight:1.6,transition:"border-color 0.2s, box-shadow 0.2s"},onFocus:m=>{m.target.style.borderColor=y.accent,m.target.style.boxShadow=`0 0 0 3px ${y.accentRing}`},onBlur:m=>{m.target.style.borderColor=y.border,m.target.style.boxShadow="none"}}),f.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[h&&f.jsx("button",{onClick:()=>{u(h),g("")},style:{flex:1,padding:"10px",borderRadius:y.radiusSm,border:"none",background:y.accent,color:"#fff",fontSize:13,fontWeight:700,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:m=>m.currentTarget.style.background=y.accentHover,onMouseLeave:m=>m.currentTarget.style.background=y.accent,children:"Salva"}),f.jsxs("button",{onClick:l,style:{flex:h?1:"unset",padding:"8px 14px",borderRadius:10,border:`1px solid ${y.border}`,background:y.surface,cursor:"pointer",fontSize:13,color:y.textMuted,display:"flex",alignItems:"center",gap:6},children:[f.jsx("span",{children:""})," Storico (",i.length,")"]})]})]})]})]})}const Qw=new Fy({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});xp(document.getElementById("root")).render(f.jsx(qy,{client:Qw,children:f.jsx(Kw,{})}));
